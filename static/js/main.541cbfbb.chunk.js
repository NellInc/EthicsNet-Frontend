(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/text2.95d80ca6.png"},101:function(e,t,a){e.exports=a.p+"static/media/text3.6ff28d94.png"},102:function(e,t,a){e.exports=a.p+"static/media/image1.789090fc.png"},103:function(e,t,a){e.exports=a.p+"static/media/image2.47a2da96.png"},104:function(e,t,a){e.exports=a.p+"static/media/image3.40b62698.png"},105:function(e,t,a){e.exports=a.p+"static/media/video1.a78939ee.png"},106:function(e,t,a){e.exports=a.p+"static/media/video2.9cd0df78.png"},107:function(e,t,a){e.exports=a.p+"static/media/video3.e531ec32.png"},108:function(e,t,a){e.exports=a.p+"static/media/video4.707da6db.png"},120:function(e,t,a){e.exports=a(137)},125:function(e,t,a){},137:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),i=a(16),l=(a(125),a(4)),s=a(35),u=a(112),m=a(175),d=a(187),p=a(5),g=a.n(p),h=a(8),f=a(170),b=a(172),E=a(174),v=a(173),y=a(95),x=a.n(y),j=a(109),O=a(167),w=a(94),N=a.n(w),C=(a(127),Object(j.a)({palette:{primary:{main:"rgb(49, 54, 57)"},secondary:{main:"#11cb5f"}}})),k=Object(n.createContext)(localStorage.isLogged),S=Object(n.createContext)(!0),A=Object(n.createContext)("bla"),T=Object(n.createContext)(""),I=Object(n.createContext)({});var P,F=function(e){var t=e.children,a=Object(n.useState)(localStorage.isLogged),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(!0),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(""),g=Object(l.a)(p,2),h=g[0],f=g[1],b=Object(n.useState)({}),E=Object(l.a)(b,2),v=E[0],y=E[1],x=r.a.createRef();return r.a.createElement(S.Provider,{value:[m,d]},r.a.createElement(k.Provider,{value:[c,i]},r.a.createElement(N.a,{ref:x}),r.a.createElement(A.Provider,{value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";x.current.addNotification({title:t,message:e,type:a,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3},dismissable:{click:!0}})}},r.a.createElement(T.Provider,{value:[h,f]},r.a.createElement(I.Provider,{value:[v,y]},r.a.createElement(O.a,{theme:C},t))))))};P="http://167.71.163.123";var D=a(168),R=Object(D.a)(function(e){return{root:{flexGrow:1,marginBottom:"10px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#fff",textDecoration:"none"},link:{color:"#fff",textDecoration:"none"}}});var B=Object(s.g)(function(e){var t=R(),a=Object(n.useState)(!1),o=Object(l.a)(a,2),c=o[0],s=o[1],u=Object(n.useContext)(S)[1];return Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage,a=t.token,e.next=4,fetch("".concat(P,"/api2/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,s(r.user.isAdmin),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error on the navbar -> ",e.t0);case 14:return e.prev=14,u(!1),e.finish(14);case 17:case"end":return e.stop()}},e,null,[[0,11,14,17]])}))).apply(this,arguments)}localStorage.isLogged?function(){e.apply(this,arguments)}():u(!1)},[u]),r.a.createElement("div",{className:t.root},r.a.createElement(f.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(v.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(x.a,null)),r.a.createElement(i.b,{color:"inherit",className:t.title,to:"/"},"Home"),c&&"true"===localStorage.isLogged&&r.a.createElement(E.a,{color:"inherit"},r.a.createElement(i.b,{className:t.link,to:"/admin"},"Admin")),"true"===localStorage.isLogged?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{color:"inherit"},r.a.createElement(i.b,{className:t.link,to:"/profile"},"Profile")),r.a.createElement(E.a,{color:"inherit"},r.a.createElement(i.b,{className:t.link,to:"/profile/annotations"},"Text annotations")),r.a.createElement(E.a,{color:"inherit",onClick:function(){e.history.push("/logged-out")}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{color:"inherit"},r.a.createElement(i.b,{className:t.link,to:"/login"},"Log in")),r.a.createElement(E.a,{color:"inherit"},r.a.createElement(i.b,{className:t.link,to:"/register"},"Register"))))))}),L=Object(D.a)(function(e){return{footer:{border:"1px solid #000",textAlign:"center",width:"100%",bottom:"1px",color:"#fff",background:e.palette.primary.main,fontSize:14,padding:"10px 0"},p:{margin:"12px 0"}}});var W=function(){var e=L();return r.a.createElement("div",{className:e.footer},r.a.createElement("p",{className:e.p},"Privacy Policy - Terms and Conditions - EULA - About"),r.a.createElement("p",{className:e.p},"EthicsNet - 2019 developed by Emerson Lopes"),r.a.createElement("p",{className:e.p},"Copyright \xa9 2019, EthicsNet Inc, (11412076), All rights reserved."))},V=a(81),z=Object(D.a)(function(e){return{root:{}}});var U=function(){var e=z();return r.a.createElement("div",{className:e.root},r.a.createElement(V.a,{variant:"h4",gutterBottom:!0},"About Us"),r.a.createElement(V.a,{variant:"body1",gutterBottom:!0},"EthicsNet is building a community, one with the purpose of experimenting with different potential techniques to create datasets \u2013 examples of nice behaviours (such as social norms), to help socialise A.I."),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"body1",gutterBottom:!0},"Machine intelligences will simply amplify and return whatever data we give them. Our goal is to advance the field of machine ethics, by seeding technology that makes it easy to teach machines about ones individual and cultural behavioral preferences."),r.a.createElement("br",null),r.a.createElement(V.a,{variant:"subtitle1",gutterBottom:!0},"Download the extension from the Chrome Web Store and start annotation text from the web right now!"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://chrome.google.com/webstore/detail/ethics-net/djamiamgnjcpjhkknjddilkaibbhmhgc"},"Ehtics Net extension"))},M=a(17),_=a(191),G=a(110);a(77);function q(){return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("iframe",{width:"100%",height:"100%",title:"privacy",src:"https://www.termsfeed.com/terms-conditions/729e707a3a2a572778819a2b17eeec2b",frameBorder:"0"}))}function H(){return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("iframe",{width:"100%",height:"100%",title:"privacy",src:"https://www.termsfeed.com/privacy-policy/9966271a11492eb0ef2fd7776baaa38c",frameBorder:"0"}))}var J=Object(D.a)(function(e){return{link:{color:"inherit",textDecoration:"none"},button:{marginRight:"10px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});function Y(e){var t=J();return r.a.createElement(E.a,{className:t.button,variant:e.variant,color:e.color},r.a.createElement(i.b,{className:t.link,to:e.to},e.name))}function $(e){var t=J();return r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(m.a,null))}var K=Object(D.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},headline:{marginTop:20,padding:20,border:"1px solid #ddd"},gender:{marginBottom:10}}});function Q(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var X=function(){var e=K(),t=Object(n.useContext)(A),a=Object(n.useState)(!1),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(0),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(!1),f=Object(l.a)(p,2),b=f[0],v=f[1],y=r.a.createRef(),x=r.a.useState({firstName:"",lastName:"",email:"",password:"",age:"",gender:""}),j=Object(l.a)(x,2),O=j[0],w=j[1],N=function(e){return function(t){w(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Q(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Q(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},O,Object(M.a)({},e,t.target.value)));var a=y.current.getValue(),n=O.firstName,r=O.lastName,o=O.email,c=O.password;v(!(!a||""===n||""===r||""===o||""===c))}},C=function(){var e=Object(h.a)(g.a.mark(function e(a){var n,r,o,c,l;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),i(!0),n=O,e.prev=3,e.next=6,fetch("".concat(P,"/auth/register"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(n)});case 6:return r=e.sent,e.next=9,r.json();case 9:o=e.sent,400===r.status?t(o.error,"registration failed","danger"):200===r.status?(t("welcome to ethics net!"),c=o.token,l=o.user,localStorage.setItem("userId",l._id),localStorage.setItem("userName",l.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("lastclear",(new Date).getTime()),localStorage.setItem("token",c),window.location.reload()):t("there was an error","we could not register you","danger"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),t("there was an error","we could not register you","danger");case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}();function k(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(P,"/auth/email/").concat(O.email),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.token)},redirect:"follow",referrer:"no-referrer"});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,200===a.status?b?d(m+1):alert("nah ;)"):400===a.status&&t(n.error,"please login instead","danger"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log("error");case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[0,10,13,16]])}))).apply(this,arguments)}i(!0),function(){e.apply(this,arguments)}()}return c?r.a.createElement($,null):r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"EthicsNet - Sign up")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:C},r.a.createElement("div",null,r.a.createElement(_.a,{required:!0,className:e.textField,id:"first-name",label:"First Name",value:O.firstName,onChange:N("firstName"),margin:"normal"}),r.a.createElement(_.a,{required:!0,className:e.textField,id:"last-name",label:"Last Name",value:O.lastName,onChange:N("lastName"),margin:"normal"})),r.a.createElement("div",null,r.a.createElement(_.a,{required:!0,className:e.textField,id:"email",type:"email",label:"Email",value:O.email,onChange:N("email"),margin:"normal"}),r.a.createElement(_.a,{required:!0,className:e.textField,id:"password",type:"password",label:"Password",value:O.password,onChange:N("password"),margin:"normal"})),r.a.createElement("div",{className:e.gender},r.a.createElement(_.a,{className:e.textField,id:"gender",type:"text",label:"Gender",value:O.gender,onChange:N("gender"),margin:"normal"})),r.a.createElement(G.a,{sitekey:"6LcxVMUUAAAAANTT9RCdIyHNbYTTC6cDwNARknvT",onChange:function(e){var t=O.firstName,a=O.lastName,n=O.email,r=O.password;e&&""!==t&&""!==a&&""!==n&&""!==r&&v(!0)},ref:y,style:{display:m?"none":"block"}}),!m&&r.a.createElement(E.a,{className:e.submit,type:"button",onClick:k,variant:"contained",color:"primary",disabled:!b},"Next"),m>0&&r.a.createElement("div",{className:e.headline},"To create an EthicsNet Account, you\u2019ll need to agree to the"," ",r.a.createElement("a",{href:"https://www.termsfeed.com/terms-conditions/729e707a3a2a572778819a2b17eeec2b",target:"_blank",rel:"noopener noreferrer"},"Terms of Service")," ","below. In addition, when you create an account, we process your information as described in our"," ",r.a.createElement("a",{href:"https://www.termsfeed.com/privacy-policy/9966271a11492eb0ef2fd7776baaa38c",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy"),"."),1===m&&r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(E.a,{className:e.submit,type:"button",onClick:k,variant:"contained",color:"primary"},"Next")),2===m&&r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(E.a,{className:e.submit,style:{marginRight:10},type:"button",onClick:function(){d(m-1)},variant:"contained",color:"primary"},"Previous"),r.a.createElement(E.a,{className:e.submit,type:"submit",variant:"contained",color:"primary"},"I agree"))))},Z=Object(D.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},link:{color:"blue","&:hover":{cursor:"pointer"}},account:{fontSize:15}}});function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var te=function(e){var t=e.history,a=Z(),o=Object(n.useContext)(A),c=Object(n.useState)(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],m=r.a.useState({email:"",password:""}),d=Object(l.a)(m,2),p=d[0],f=d[1],b=function(e){return function(t){f(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},p,Object(M.a)({},e,t.target.value)))}},v=function(){var e=Object(h.a)(g.a.mark(function e(t){var a,n,r,c,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u(!0),a=p,t.preventDefault(),e.prev=3,e.next=6,fetch("".concat(P,"/auth/authenticate"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(a)});case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,400===n.status?(o(r.error,"login failed","danger"),u(!1)):200===n.status?(o("welcome back!"),c=r.token,i=r.user,localStorage.setItem("userId",i._id),localStorage.setItem("userName",i.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("lastclear",(new Date).getTime()),localStorage.setItem("token",c),window.location.reload()):(u(!1),o("there was an error","we could not log you in","danger")),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),console.error(e.t0),u(!1);case 17:case"end":return e.stop()}},e,null,[[3,13]])}));return function(t){return e.apply(this,arguments)}}();return s?r.a.createElement($,null):r.a.createElement("div",{className:a.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"EthicsNet - Login")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:v},r.a.createElement("div",null,r.a.createElement(_.a,{required:!0,className:a.textField,id:"email",label:"Email",type:"email",value:p.email,onChange:b("email"),margin:"normal"}),r.a.createElement(_.a,{required:!0,className:a.textField,type:"password",id:"password",label:"Password",value:p.password,onChange:b("password"),margin:"normal"})),r.a.createElement("p",{className:a.account},"don't you have an account?"," ",r.a.createElement("span",{className:a.link,onClick:function(){return t.push("/register")}},"register")," ","instead"),r.a.createElement(E.a,{type:"submit",variant:"contained",color:"primary"},"login")))},ae=a(190),ne=a(182),re=a(180),oe=a(181),ce=a(179),ie=Object(D.a)(function(e){return{loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{textAlign:"center"},textField:{width:"410px",marginLeft:e.spacing(1),marginRight:e.spacing(1)},info:{marginTop:"20px"},buttonsWrapper:{marginTop:"20px"}}});var le=function(e){var t=ie(),a=e.values,n=e.handleChange;return r.a.createElement("div",{className:t.info},r.a.createElement("hr",null),r.a.createElement(V.a,{variant:"body1",gutterBottom:!0},"This information below is optional, however it would help us to better assure minimal bias to the dataset, and to create a map of different people's impressions of behavioural norms across a diverse range, to facilitate teaching cultural competence to AI."),r.a.createElement(_.a,{id:"country",label:"Country",className:t.textField,value:a.country,onChange:n("country"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"state",label:"State/Province",className:t.textField,value:a.state,onChange:n("state"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"political",label:"Political view",className:t.textField,value:a.political,onChange:n("political"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"religious",label:"Religious view",className:t.textField,value:a.religious,onChange:n("religious"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"earnings",label:"Montly earnings",className:t.textField,value:a.earnings,onChange:n("earnings"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"ethnicity",label:"Ethnicity",className:t.textField,value:a.ethnicity,onChange:n("ethnicity"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"sexualOrientation",label:"Sexual orientation",className:t.textField,value:a.sexualOrientation,onChange:n("sexualOrientation"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"language",label:"Native language",className:t.textField,value:a.language,onChange:n("language"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"education",label:"Education level",className:t.textField,value:a.education,onChange:n("education"),margin:"normal",type:"text"}),r.a.createElement(_.a,{id:"social",label:"Social class",className:t.textField,value:a.social,onChange:n("social"),margin:"normal",type:"text"}))};function se(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ue(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?se(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):se(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var me=function(){var e=ie(),t=Object(n.useState)(!0),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)({})[1],s=r.a.useState(!1),u=Object(l.a)(s,2),d=u[0],p=u[1],f=Object(n.useState)({name:"",last:"",email:"",country:"",earnings:"",ethnicity:"",state:"",age:"",political:"",religious:"",gender:"",sexualOrientation:"",language:"",education:"",social:""}),b=Object(l.a)(f,2),v=b[0],y=b[1],x=function(){p(!1)},j=function(e){return function(t){y(ue({},v,Object(M.a)({},e,t.target.value)))}};Object(n.useEffect)(function(){document.title="EthicsNet - Profile "},[]),Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o,l,s,u,m,d,p,h,f,b,E,x,j,O,w;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(P,"/api2/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,200===a.status?(i(n.user),r=n.user,o=r.firstName,l=r.lastName,s=r.email,u=r.country,m=r.state,d=r.age,p=r.political,h=r.religious,f=r.gender,b=r.sexualOrientation,E=r.language,x=r.education,j=r.social,O=r.earnings,w=r.ethnicity,y(ue({},v,{name:o,last:l,email:s,country:u,state:m,age:d,political:p,religious:h,gender:f,sexualOrientation:b,language:E,education:x,social:j,earnings:O,ethnicity:w}))):404===a.status&&(localStorage.isLogged=null,window.location.reload()),c(!1);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[o]);var O=function(){var e=Object(h.a)(g.a.mark(function e(t){var a,n,r,o,i,l,s,u,m,d,p,h,f,b,E,y,x,j,O,w;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=v.name,n=v.last,r=v.email,o=v.country,i=v.state,l=v.age,s=v.political,u=v.religious,m=v.gender,d=v.sexualOrientation,p=v.language,h=v.education,f=v.social,b=v.earnings,E=v.ethnicity,y={firstName:a,lastName:n,email:r,country:o,state:i,age:l,political:s,religious:u,gender:m,sexualOrientation:d,language:p,education:h,social:f,earnings:b,ethnicity:E},x=localStorage,j=x.token,O=x.userId,e.next=6,fetch("".concat(P,"/api2/user/").concat(O),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(j)},body:JSON.stringify(y)});case 6:w=e.sent,console.log("===================================="),console.log(w),console.log("===================================="),c(!0);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function w(){return(w=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage,a=t.token,n=t.userId,e.next=3,fetch("".concat(P,"/api2/user/").concat(n),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,console.log(r),console.log(o),window.location.reload();case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}function N(){return(N=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage.getItem("token"),e.next=4,fetch("".concat(P,"/api2/user/data"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 4:return a=e.sent,e.next=7,a.json();case 7:n=e.sent,console.log("request my data -> ",n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("error");case 14:case"end":return e.stop()}},e,null,[[0,11]])}))).apply(this,arguments)}return o?r.a.createElement("div",{className:e.loaderWrapper},r.a.createElement(m.a,null)):r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:e.header},"ETHICS ETH - MY PROFILE"),r.a.createElement("main",null,r.a.createElement("form",{onSubmit:O},r.a.createElement("div",null,r.a.createElement(_.a,{id:"first-name",label:"First name",className:e.textField,value:v.name,onChange:j("name"),margin:"normal",required:!0}),r.a.createElement(_.a,{id:"last-name",label:"Last name",className:e.textField,value:v.last,onChange:j("last"),margin:"normal",required:!0})),r.a.createElement("div",null,r.a.createElement(_.a,{style:{marginBottom:"20px"},id:"email",label:"Email",className:e.textField,value:v.email,onChange:j("email"),margin:"normal",type:"email",required:!0}),r.a.createElement(_.a,{id:"age",label:"Age",type:"number",className:e.textField,value:v.age,onChange:j("age"),margin:"normal"})),r.a.createElement("div",null,r.a.createElement(_.a,{className:e.textField,id:"gender",type:"text",label:"Gender",value:v.gender,onChange:j("gender"),margin:"normal"})),r.a.createElement(le,{values:v,handleChange:j}),r.a.createElement("div",{className:e.buttonsWrapper},r.a.createElement(E.a,{color:"primary",variant:"outlined",type:"submit",style:{marginRight:"10px"}},"Save"),r.a.createElement(E.a,{onClick:function(){return N.apply(this,arguments)},color:"secondary",type:"button",variant:"outlined",style:{marginRight:"10px"}},"Request my data"),r.a.createElement(E.a,{color:"secondary",type:"button",variant:"outlined",onClick:function(){p(!0)}},"Delete My Account"),r.a.createElement(ae.a,{open:d,onClose:x,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},r.a.createElement(ce.a,{id:"alert-dialog-title"},"Deleting your account cannot be undone"),r.a.createElement(re.a,null,r.a.createElement(oe.a,{id:"alert-dialog-description"},"Are you sure you want to permanently delete your account?")),r.a.createElement(ne.a,null,r.a.createElement(E.a,{onClick:function(){return w.apply(this,arguments)},color:"primary"},"Delete Account"),r.a.createElement(E.a,{onClick:x,color:"primary",autoFocus:!0},"Cancel")))))))},de=Object(D.a)(function(e){return{pagination:{display:"flex",alignItems:"center",justifyContent:"center"}}});var pe=function(e){var t=e.setPage,a=e.setLoading,o=e.page,c=e.count,i=de(),s=Object(n.useState)(1),u=Object(l.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){d(Math.ceil(c/5))},[c]),r.a.createElement("div",{className:i.pagination},1!==o&&r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},onClick:function(){t(1),a(!0)}},"First Page"),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},onClick:function(){o>1&&(t(o-1),a(!0))}},"Previous Page")),r.a.createElement("span",null,o," of ",m),o!==m&&r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginLeft:"10px"},onClick:function(){5*o<c&&(t(o+1),a(!0))}},"Next Page"),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginLeft:"10px"},onClick:function(){t(m),a(!0)}},"Last Page")))},ge=Object(D.a)(function(e){return{paper:{padding:e.spacing(3,2),margin:"20px 20px","&:hover":{boxShadow:"0px 0px 2px 2px rgba(0,0,0,0.4)",cursor:"pointer"}},title:{textAlign:"center"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},categoryWrapper:{marginBottom:10},category:{background:"#282828",color:"#fff",padding:"4px",borderRadius:"5px",fontSize:"13px"},date:{fontSize:"12px"},font:{fontSize:"11px"},pagination:{display:"flex",alignItems:"center",justifyContent:"center"},bar:{margin:"20px auto",width:"625px"},hr:{backgroundColor:"#aaa",margin:"0 0 20px 0"},rangeMargin:{flexGrow:1,flexBasis:0},marksWrapper:{display:"flex",justifyContent:"center"},marks:{display:"flex",width:"100%"},content:{backgroundColor:"#eee",padding:"20px 10px",borderRadius:5},iconWrapper:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",flexDirection:"column-reverse"},buttons:{display:"flex"},editImage:{minWidth:600}}}),he=a(185),fe=a(183),be=a(194),Ee=a(61),ve=a.n(Ee),ye=a(62),xe=a.n(ye),je=a(63),Oe=a.n(je),we=a(64),Ne=a.n(we),Ce=a(65),ke=a.n(Ce),Se=Object(D.a)(function(e){return{root:{width:"100%",minWidth:"864px",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px 0",marginBottom:20},wrapper:{width:"90%"},rangeMargin:{display:"flex",alignItems:"center",flexGrow:1,flexBasis:0,textAlign:"center",justifyContent:"center"},marksWrapper:{display:"flex",justifyContent:"center"},marks:{display:"flex",width:"100%"},rangeWidth:{display:"flex",justifyContent:"center"},slider:{width:"625px",marginTop:10},hr:{backgroundColor:"#aaa",margin:"10px 0 20px 0"},iconWrapper:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",flexDirection:"column-reverse"}}});function Ae(e){var t=e.range,a=e.setValue,n=e.name,o=Se();return r.a.createElement(u.a,{className:o.root},r.a.createElement("div",{className:o.wrapper},r.a.createElement(V.a,{gutterBottom:!0},n),r.a.createElement("hr",{className:o.hr}),r.a.createElement("div",{className:o.marksWrapper},r.a.createElement("div",{className:o.marks},r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Very dispreferable"),r.a.createElement(ve.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Not ok"),r.a.createElement(xe.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Neutral"),r.a.createElement(Oe.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Ok"),r.a.createElement(Ne.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Very preferable"),r.a.createElement(ke.a,null))))),r.a.createElement("div",{className:o.rangeWidth},r.a.createElement(be.a,{className:o.slider,"aria-label":"tone/form",defaultValue:t,onChange:function(e,t){a(t)}})),r.a.createElement("div",{className:o.margin})))}function Te(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Ie=r.a.forwardRef(function(e,t){return r.a.createElement(fe.a,Object.assign({direction:"up",ref:t},e))});function Pe(e){var t,a=e.editAnnotation,o=e.el,c=r.a.useState(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],m=o.content,d=o._id,p=o.categoryRangeContentAction,f=o.categoryRangeToneForm,b=Object(n.useState)(p),v=Object(l.a)(b,2),y=v[0],x=v[1],j=Object(n.useState)(f),O=Object(l.a)(j,2),w=O[0],N=O[1],C=Object(n.useState)({content:m}),k=Object(l.a)(C,2),S=k[0],A=k[1],T=function(){var e=Object(h.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),t={content:S.content,categoryRangeContentAction:y,categoryRangeToneForm:w},a(d,t);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),I=function(){u(!1)};return r.a.createElement("div",null,r.a.createElement(E.a,{style:{marginLeft:10},color:"primary",variant:"outlined",onClick:function(){u(!0)}},"Edit"),r.a.createElement(ae.a,{open:s,maxWidth:"md",TransitionComponent:Ie,onClose:I,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(ce.a,{id:"alert-dialog-slide-title"},"Edit Annotation"),r.a.createElement(re.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(_.a,{id:"image-description",label:"Text annotation content",multiline:!0,rows:"4",value:S.content,onChange:(t="content",function(e){A(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Te(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Te(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},S,Object(M.a)({},t,e.target.value)))}),margin:"normal",required:!0}),r.a.createElement("div",null,r.a.createElement(Ae,{range:p,setValue:x,name:"Content/Action"}),r.a.createElement(Ae,{range:f,setValue:N,name:"Tone/Form"}))),r.a.createElement(ne.a,null,r.a.createElement(E.a,{variant:"outlined",onClick:I,color:"default"},"Cancel"),r.a.createElement(E.a,{variant:"outlined",onClick:T,color:"secondary"},"Save"))))}var Fe=a(184),De=Object(D.a)(function(e){return{paper:{padding:e.spacing(3,2),margin:"20px 20px","&:hover":{boxShadow:"0px 0px 5px 2px rgba(0,0,0,0.4)",cursor:"pointer"}},title:{textAlign:"center"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},category:{background:"#282828",color:"#fff",padding:"4px",borderRadius:"5px",fontSize:"13px"},date:{fontSize:"12px"},font:{fontSize:"11px"},pagination:{display:"flex",alignItems:"center",justifyContent:"center"},bar:{margin:"20px auto",width:"625px"},hr:{backgroundColor:"#aaa",margin:"0 0 20px 0"},rangeMargin:{flexGrow:1,flexBasis:0},marksWrapper:{display:"flex",justifyContent:"center",width:790,margin:"auto"},marks:{display:"flex",width:"100%"},content:{backgroundColor:"#eee",padding:20,borderRadius:5},iconWrapper:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",flexDirection:"column-reverse"}}});var Re=function(e){var t=e.categoryRangeContentAction,a=e.title,n=De();return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,a),r.a.createElement("div",{className:n.marksWrapper},r.a.createElement("div",{className:n.marks},r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Very dispreferable"),r.a.createElement(ve.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Not ok"),r.a.createElement(xe.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Neutral"),r.a.createElement(Oe.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Ok"),r.a.createElement(Ne.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Very preferable"),r.a.createElement(ke.a,null))))),r.a.createElement(Fe.a,{className:n.bar,variant:"determinate",color:"primary",value:t}))},Be=r.a.forwardRef(function(e,t){return r.a.createElement(fe.a,Object.assign({direction:"up",ref:t},e))});function Le(e){var t=Object(n.useContext)(A),a=e.open,o=e.handleClose,c=e.content,i=e.id,l=e.filterAnotations,s=e.elId;Object(n.useEffect)(function(){},[i,e.open]);var u=function(){var e=Object(h.a)(g.a.mark(function e(){var a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage,n=a.token,e.next=4,fetch("".concat(P,"/api2/text/").concat(i),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:200===e.sent.status?(t("Annotation deleted!"),l(i),o()):t("There was a problem deleting the annotation","","danger"),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),console.error(e.t0),t("There was a problem deleting the annotation","","danger");case 12:case"end":return e.stop()}},e,null,[[0,8]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ae.a,{open:a&&s===i,TransitionComponent:Be,keepMounted:!0,onClose:o,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(ce.a,{id:"alert-dialog-slide-title"},"Are you sure you want to detele this anotation?"),r.a.createElement(re.a,null,r.a.createElement(oe.a,{id:"alert-dialog-slide-description"},'"',c,'"')),r.a.createElement(ne.a,null,r.a.createElement(E.a,{onClick:o,color:"secondary"},"Cancel"),r.a.createElement(E.a,{onClick:u,color:"primary"},"Delete"))))}var We=function(e){var t=e.handleClose,a=e.filterAnotations,n=e.idToDelete,o=e.el,c=e.handleAnotationClick,i=e.open,l=e.editAnnotation,s=ge();return r.a.createElement(he.a,{className:s.paper},r.a.createElement(Le,{content:o.content,open:i,handleClose:t,id:n,elId:o._id,filterAnotations:a}),r.a.createElement("p",null,"Annotation: "),r.a.createElement("p",{className:s.content},o.content),r.a.createElement("hr",{className:s.hr}),o.category?r.a.createElement("div",{className:s.categoryWrapper},r.a.createElement("span",{className:s.category},o.category),r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement(Re,{title:"Content/Action",categoryRangeContentAction:o.categoryRangeContentAction}),r.a.createElement(Re,{title:"Tone/Form",categoryRangeContentAction:o.categoryRangeToneForm}),r.a.createElement("hr",{className:s.hr})),"none"===o.font||""===o.font?null:r.a.createElement("small",{className:s.font},"Annotated from:"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:o.font},o.font)),r.a.createElement("p",{className:s.date},o.createdAt.substring(0,10)," "),r.a.createElement("div",{className:s.buttons},r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){return c(o._id,"delete")}},"Delete"),r.a.createElement(Pe,{editAnnotation:l,el:o,style:{marginLeft:10}})))};var Ve=function(e){var t=ge(),a=Object(n.useState)([]),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(!0),u=Object(l.a)(s,2),d=u[0],p=u[1],f=Object(n.useState)(!1),b=Object(l.a)(f,2),v=b[0],y=b[1],x=Object(n.useState)(""),j=Object(l.a)(x,2),O=j[0],w=j[1],N=Object(n.useContext)(A),C=Object(n.useState)(1),k=Object(l.a)(C,2),S=k[0],T=k[1],I=Object(n.useState)(0),F=Object(l.a)(I,2),D=F[0],R=F[1];function B(e){i(c.filter(function(t){return t._id!==e}))}function L(){y(!1)}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(P,"/api2/text/page/").concat(S),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,i(n.anotations),R(n.count),p(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}document.title="EthicsNet - Annotations",function(){e.apply(this,arguments)}()},[S,d]);var W=function(t,a){"edit"===a?e.history.push("/profile/annotations/edit/".concat(t)):"delete"===a&&(w(t),y(!0))};function V(e,t){return z.apply(this,arguments)}function z(){return(z=Object(h.a)(g.a.mark(function e(t,a){var n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.prev=1,n=localStorage,r=n.token,e.next=5,fetch("".concat(P,"/api2/text/").concat(t),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 5:200===e.sent.status?N("Text annotation updated!"):N("There was a problem editing the text annotation","","danger"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),N("There was a problem editing the text annotation","","danger");case 13:return e.prev=13,p(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}))).apply(this,arguments)}var U=c.map(function(e){return r.a.createElement(We,{handleClose:L,filterAnotations:B,idToDelete:O,el:e,handleAnotationClick:W,open:v,key:e._id,editAnnotation:V})});return d?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(m.a,null)):c.length?r.a.createElement("div",null,r.a.createElement("h3",{className:t.title},"Annotations"),r.a.createElement("div",null,U),r.a.createElement(pe,{setPage:T,setLoading:p,count:D,page:S})):r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center"}},"you haven't annotated any text yet..."),r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){return W(e.history.push("/how-to-use"))}},"How to use"))};var ze=function(){return r.a.createElement("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"30px",textAlign:"center"}},"404 ",r.a.createElement("br",null)," not found")},Ue=a(178),Me=a(192),_e=a(188),Ge=a(193),qe=Object(D.a)(function(e){return{paper:{background:"red","@media (min-width:600px)":{}},textField:{width:"100%"},link:{color:"inherit",textDecoration:"none"},button:{marginRight:"10px"},formControl:{width:"100%",marginBottom:"20px"}}});var He=function(e){var t=qe(),a=Object(n.useState)({}),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(0),f=Object(l.a)(p,2),b=f[0],v=f[1],y=Object(n.useState)(!0),x=Object(l.a)(y,2),j=x[0],O=x[1],w=Object(n.useContext)(A);Object(n.useEffect)(function(){function t(){return(t=Object(h.a)(g.a.mark(function t(){var a,n,r,o,c;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match.params.id,n=localStorage,r=n.token,t.next=4,fetch("".concat(P,"/api2/text/").concat(a),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:return o=t.sent,t.next=7,o.json();case 7:c=t.sent,i(c.anotation),d(c.anotation.content),v({"morally preferable":0,"morally unpreferable":1,"aesthetically preferable":2,"aesthetically unpreferable":3,"not unethical, but strange":4}[c.anotation.category]),O(!1);case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[j]);var N=function(){var t=Object(h.a)(g.a.mark(function t(){var a,n,r,o,c,i;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return O(!0),a=e.match.params.id,n=localStorage,r=n.token,o={0:"morally preferable",1:"morally unpreferable",2:"aesthetically preferable",3:"aesthetically unpreferable",4:"not unethical, but strange"},t.next=6,fetch("".concat(P,"/api2/text/").concat(a),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({content:m,category:o[b]})});case 6:return c=t.sent,t.next=9,c.json();case 9:i=t.sent,200===c.status?w("annotation saved!"):w(i.error,"there was an error","danger");case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return j?r.a.createElement($,null):r.a.createElement("div",null,r.a.createElement("p",null,c.createdAt.substring(0,10)),r.a.createElement(_.a,{id:"standard-multiline-flexible",label:"edit anotation",multiline:!0,rowsMax:"30",value:m,onChange:function(e){d(e.target.value)},className:t.textField,margin:"normal"}),r.a.createElement(Ue.a,{className:t.formControl},r.a.createElement(Me.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(_e.a,{value:b,onChange:function(e){return v(e.target.value)},inputProps:{name:"category",id:"category-simple"}},r.a.createElement(Ge.a,{selected:!0,value:0},"Morally preferable"),r.a.createElement(Ge.a,{value:1},"Morally unpreferable"),r.a.createElement(Ge.a,{value:2},"Aesthetically preferable"),r.a.createElement(Ge.a,{value:3},"Aesthetically unpreferable"),r.a.createElement(Ge.a,{value:4},"Not unethical, but strange"))),r.a.createElement(E.a,{onClick:N,variant:"outlined",color:"primary",className:t.button},"Save"),r.a.createElement(Y,{variant:"outlined",color:"secondary",to:"/profile/annotations",name:"cancel"}))},Je=Object(D.a)(function(){return{root:{color:"rgb(50, 50, 50)"},title:{color:"rgba(196, 196, 196)"},link:{color:"inherit",textDecoration:"none"}}});var Ye=function(){var e=Je();return Object(n.useEffect)(function(){document.title="EthicsNet - Home "},[]),r.a.createElement("div",{className:e.root},r.a.createElement(V.a,{className:e.title,variant:"h5",gutterBottom:!0},"EthicsNet"),r.a.createElement(V.a,{variant:"body1",gutterBottom:!0},"Welcome to EthicsNet, now you can start to anotate things on the web."),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(i.b,{className:e.link,to:"/profile/annotations"},"Texts")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(i.b,{className:e.link,to:"/user/images"},"Images")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(i.b,{className:e.link,to:"/user/videos"},"Videos")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(i.b,{className:e.link,to:"/annotations/new"},"Insert new text annotation")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(i.b,{className:e.link,to:"/profile"},"Profile")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(i.b,{className:e.link,to:"/how-to-use"},"How to use it")))},$e=Object(D.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},loggedOut:{padding:"20px"},title:{textAlign:"center"}}});var Ke=function(e){var t=$e(),a=Object(n.useContext)(k)[1];return"true"===localStorage.isLogged?r.a.createElement("div",null,r.a.createElement("h1",null,"are you sure you want to log out?"),r.a.createElement(E.a,{style:{marginRight:"10px"},color:"primary",variant:"outlined",onClick:function(){localStorage.clear(),a(!1),window.location.reload()}},"Yes, log out"),r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){e.history.push("/")}},"No, keep logged in")):r.a.createElement("div",{className:t.loggedOut},r.a.createElement("h2",{className:t.title},"EthicsNet"))},Qe=Object(D.a)(function(e){return{paper:{background:"red"},textField:{width:"100%"},link:{color:"inherit",textDecoration:"none"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},formControl:{width:"100%",marginBottom:"20px"}}});var Xe=function(e){var t=Qe(),a=Object(n.useState)(!1),o=Object(l.a)(a,2),c=o[0],s=o[1],u=Object(n.useState)(""),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useContext)(A),b=Object(n.useState)(50),v=Object(l.a)(b,2),y=v[0],x=v[1],j=Object(n.useState)(50),O=Object(l.a)(j,2),w=O[0],N=O[1],C=function(){var t=Object(h.a)(g.a.mark(function t(a){var n,r,o,c;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s(!0),n=localStorage,r=n.token,o=n.userId,c={categoryRangeContentAction:y,categoryRangeToneForm:w,content:d,authorId:o},t.prev=4,t.next=7,fetch("".concat(P,"/api2/text"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(c)});case 7:200===t.sent.status?(f("annotation created!"),e.history.push("/profile/annotations")):console.error("error while fetching data!"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),console.error("there was an error ->",t.t0);case 14:case"end":return t.stop()}},t,null,[[4,11]])}));return function(e){return t.apply(this,arguments)}}();return c?r.a.createElement($,null):r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{variant:"h6",gutterBottom:!0},"Create a new annotation"),r.a.createElement("form",{onSubmit:C},r.a.createElement(_.a,{id:"standard-name",label:"Annotation",className:t.textField,value:d,onChange:function(e){p(e.target.value)},margin:"normal",required:!0,multiline:!0,rows:"5"}),r.a.createElement(Ae,{range:y,setValue:x,name:"Content/Action"}),r.a.createElement(Ae,{range:w,setValue:N,name:"Tone/Form"}),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},type:"submit"},"Save"),r.a.createElement(E.a,{color:"secondary",type:"button",variant:"outlined"},r.a.createElement(i.b,{className:t.link,to:"/"},"Cancel"))))},Ze=a(66),et=a(67),tt=a(70),at=a(68),nt=a(71),rt=a(69),ot=a.n(rt),ct=(a(92),function(e){function t(){var e,a;Object(Ze.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(tt.a)(this,(e=Object(at.a)(t)).call.apply(e,[this].concat(o)))).state={showBtn:"none",loading:!0,src:"",croppedImageUrl:"",imageFont:"",crop:{unit:"%",width:30}},a.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){return a.setState({src:t.result})}),t.readAsDataURL(e.target.files[0])}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){a.makeClientCrop(e)},a.onCropChange=function(e,t){a.setState({crop:e})},a.saveCroppedScreenshot=function(){localStorage.img=a.state.croppedImageUrl,localStorage.imageFont=a.state.imageFont,a.props.history.push("./save")},a.renderSelectionAddon=function(){return r.a.createElement(E.a,{color:"primary",type:"button",variant:"contained",style:{position:"absolute",bottom:-45,right:0},onClick:a.saveCroppedScreenshot},"Save Image")},a}return Object(nt.a)(t,e),Object(et.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(h.a)(g.a.mark(function t(){var a,n,r,o;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage,n=a.token,t.next=4,fetch("".concat(P,"/api/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=t.sent,t.next=7,r.json();case 7:o=t.sent,200===r.status&&e.setState({src:o.user.cachedImg,imageFont:o.user.imageFont,loading:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("there was an error -> ",t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(){return t.apply(this,arguments)}})()()}},{key:"makeClientCrop",value:function(){var e=Object(h.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:a=e.sent,this.setState({croppedImageUrl:a,showBtn:"block"});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var n=document.createElement("canvas"),r=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*r,t.y*o,t.width*r,t.height*o,0,0,t.width,t.height),n.toDataURL("image/jpeg")}},{key:"render",value:function(){var e=this.state,t=e.crop,a=e.croppedImageUrl,n=e.src;return this.state.loading?r.a.createElement($,null):r.a.createElement("div",{style:{position:"absolute",width:"100%",left:"0",top:"82px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"If the image hasn't loaded or if it's an old image, plese reload the page in a few seconds"),n&&r.a.createElement(ot.a,{src:n,crop:t,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,renderSelectionAddon:this.renderSelectionAddon}),a&&r.a.createElement("img",{alt:"Crop",style:{width:"auto"},src:a}))}}]),t}(n.PureComponent));var it=function(){var e=Object(n.useState)("lopes"),t=Object(l.a)(e,2),a=t[0],o=t[1];return r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"Screenshot component"),r.a.createElement("button",{onClick:function(){return o("emerson")}},a))},lt=Object(D.a)(function(e){return{img:{},textField:{width:"100%"},typography:{textAlign:"center"},submit:{marginTop:20},imgWrapper:{display:"flex",justifyContent:"center",alginItems:"center"}}});function st(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ut=function(e){var t=lt(),a=Object(n.useState)(!0),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useContext)(A),f=Object(n.useState)(50),b=Object(l.a)(f,2),v=b[0],y=b[1],x=Object(n.useState)(50),j=Object(l.a)(x,2),O=j[0],w=j[1],N=Object(n.useState)({title:"",description:"",category:""}),C=Object(l.a)(N,2),k=C[0],S=C[1],T=function(e){return function(t){S(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?st(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):st(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},k,Object(M.a)({},e,t.target.value)))}};function I(){return(I=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,l,s,u,d;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i(!0),a.preventDefault(),n=k.title,r=k.description,o=k.category,c=localStorage,l=c.token,s=c.userId,u=c.imageFont,d={title:n,description:r,category:o,contentAction:v,toneForm:O,image:m,imageFont:u,authorId:s},t.prev=5,t.next=8,fetch("".concat(P,"/api/image"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(l)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(d)});case 8:200===t.sent.status?p("Image saved"):p("there was a problem saving the image"),e.history.push("/user/images"),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(5),console.error(t.t0);case 16:case"end":return t.stop()}},t,null,[[5,13]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){d(localStorage.img),i(!1)},[]),c?r.a.createElement($,null):r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{className:t.typography,variant:"h5",gutterBottom:!0},"Save Image"),r.a.createElement("div",{className:t.imgWrapper},r.a.createElement("img",{className:t.img,src:m,alt:""})),r.a.createElement("form",{onSubmit:function(e){return I.apply(this,arguments)},className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(_.a,{id:"title",label:"Title",className:t.textField,value:k.title,onChange:T("title"),margin:"normal"}),r.a.createElement(_.a,{id:"description",label:"Description",multiline:!0,rows:"4",className:t.textField,value:k.description,onChange:T("description"),margin:"normal"}),r.a.createElement(Ae,{range:v,setValue:y,name:"Content/Action"}),r.a.createElement(Ae,{range:O,setValue:w,name:"Tone/Form"}),r.a.createElement(E.a,{className:t.submit,type:"submit",variant:"outlined"},"Save")))},mt=Object(D.a)(function(){return{image:{marginBottom:"30px",border:"1px solid #ddd",padding:"10px",borderRadius:"5px"},title:{textAlign:"center"},description:{},font:{fontSize:"10px",marginBottom:20},img:{},hr:{backgroundColor:"#ddd"},hr2:{backgroundColor:"#ddd",margin:"20px 0"},category:{backgroundColor:"#000",color:"#fff",padding:3,borderRadius:4},imgWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",alignItems:"center",justifyContent:"center"},buttons:{display:"flex"},formControl:{margin:"15px 0"},editImage:{width:"99%",alignSelf:"center"}}}),dt=r.a.forwardRef(function(e,t){return r.a.createElement(fe.a,Object.assign({direction:"up",ref:t},e))});function pt(e){var t=e.title,a=e.id,n=e.image,o=e.deleteImage,c=r.a.useState(!1),i=Object(l.a)(c,2),s=i[0],u=i[1],m=function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:u(!1),o(a);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),d=function(){u(!1)};return r.a.createElement("div",null,r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){u(!0)}},"Delete"),r.a.createElement(ae.a,{open:s,TransitionComponent:dt,keepMounted:!0,onClose:d,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",style:{textAlign:"center"}},r.a.createElement(ce.a,{id:"alert-dialog-slide-title"},"Are you sure you want to delete this image?"),r.a.createElement(re.a,null,r.a.createElement(oe.a,{id:"alert-dialog-slide-description"},t),r.a.createElement("img",{src:n,alt:t,style:{width:"90%"}})),r.a.createElement(ne.a,null,r.a.createElement(E.a,{variant:"outlined",onClick:d,color:"default"},"Cancel"),r.a.createElement(E.a,{variant:"outlined",onClick:m,color:"secondary"},"Delete"))))}function gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ht(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?gt(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):gt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ft=r.a.forwardRef(function(e,t){return r.a.createElement(fe.a,Object.assign({direction:"up",ref:t},e))});function bt(e){var t=e.title,a=e.id,o=e.image,c=e.editImage,i=e.description,s=e.category,u=e.contentAction,m=e.toneForm,d=mt(),p=r.a.useState(!1),f=Object(l.a)(p,2),b=f[0],v=f[1],y=Object(n.useState)(u),x=Object(l.a)(y,2),j=x[0],O=x[1],w=Object(n.useState)(m),N=Object(l.a)(w,2),C=N[0],k=N[1],S=Object(n.useState)({title:t,category:s,description:i}),A=Object(l.a)(S,2),T=A[0],I=A[1];r.a.useEffect(function(){console.log(j,C)});var P=function(e){return function(t){I(ht({},T,Object(M.a)({},e,t.target.value)))}},F=function(){var e=Object(h.a)(g.a.mark(function e(){var t;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:v(!1),t=ht({},T,{contentAction:j,toneForm:C}),c(a,t);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),D=function(){v(!1)};return r.a.createElement("div",null,r.a.createElement(E.a,{style:{marginLeft:10},color:"primary",variant:"outlined",onClick:function(){v(!0)}},"Edit"),r.a.createElement(ae.a,{maxWidth:"md",open:b,TransitionComponent:ft,onClose:D,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(ce.a,{id:"alert-dialog-slide-title"},"Edit Image"),r.a.createElement(re.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(_.a,{id:"image-title",label:"Image title",value:T.title,onChange:P("title"),margin:"normal",required:!0}),r.a.createElement(_.a,{id:"image-description",label:"Image description",multiline:!0,rows:"4",value:T.description,onChange:P("description"),margin:"normal",required:!0}),r.a.createElement("div",null,r.a.createElement(Ae,{range:j,setValue:O,name:"Content/Action"}),r.a.createElement(Ae,{range:C,setValue:k,name:"Tone/Form"})),r.a.createElement("img",{src:o,alt:t,className:d.editImage})),r.a.createElement(ne.a,null,r.a.createElement(E.a,{variant:"outlined",onClick:D,color:"default"},"Cancel"),r.a.createElement(E.a,{variant:"outlined",onClick:F,color:"secondary"},"Save"))))}var Et=function(e){var t=e.el,a=e.deleteImage,n=e.editImage,o=mt(),c=t._id,i=t.title,l=t.image,s=t.imageFont,u=t.description,m=t.contentAction,d=t.toneForm;return r.a.createElement("div",{className:o.image},r.a.createElement("p",{className:o.title},i),r.a.createElement("hr",{className:o.hr}),r.a.createElement("div",{className:o.imgWrapper},r.a.createElement("img",{className:o.img,src:l,alt:""})),r.a.createElement("hr",{className:o.hr}),r.a.createElement("p",{className:o.font},"Font: ",r.a.createElement("a",{href:s},s)),r.a.createElement("p",{className:o.description},u),r.a.createElement("hr",{className:o.hr2}),r.a.createElement(Re,{title:"Content/Action",categoryRangeContentAction:m}),r.a.createElement(Re,{title:"Tone/Form",categoryRangeContentAction:d}),r.a.createElement("hr",{className:o.hr2}),r.a.createElement("div",{className:o.buttons},r.a.createElement(pt,{title:i,id:c,image:l,deleteImage:a}),r.a.createElement(bt,{title:i,id:c,image:l,editImage:n,contentAction:m,toneForm:d,description:u})))};var vt=function(){var e=mt(),t=Object(n.useContext)(A),a=Object(n.useState)(!0),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)([]),u=Object(l.a)(s,2),m=u[0],d=u[1],p=Object(n.useState)(1),f=Object(l.a)(p,2),b=f[0],E=f[1],v=Object(n.useState)(0),y=Object(l.a)(v,2),x=y[0],j=y[1];function O(e){return w.apply(this,arguments)}function w(){return(w=Object(h.a)(g.a.mark(function e(a){var n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,n=localStorage,r=n.token,e.next=5,fetch("".concat(P,"/api2/image/").concat(a),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 5:200===e.sent.status?(t("Image annotation deleted!"),d(m.filter(function(e){return e._id!==a}))):t("There was a problem deleting the image annotation","","danger"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),t("There was a problem deleting the image annotation","","danger");case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}))).apply(this,arguments)}function N(e,t){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(g.a.mark(function e(a,n){var r,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i(!0),e.prev=1,r=localStorage,o=r.token,e.next=5,fetch("".concat(P,"/api2/image/").concat(a),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify(n)});case 5:200===e.sent.status?t("Image annotation updated!"):t("There was a problem editing the image annotation","","danger"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),t("There was a problem editing the image annotation","","danger");case 13:return e.prev=13,i(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}))).apply(this,arguments)}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(P,"/api2/image/page/").concat(b),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log("===================================="),console.log(n),console.log("===================================="),d(n.images),j(n.count),i(!1);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[b,c]);var k=m.map(function(e){return r.a.createElement(Et,{key:e._id,el:e,deleteImage:O,editImage:N})});return c?r.a.createElement($,null):m.length?r.a.createElement("div",null,r.a.createElement("h3",{className:e.title},"All images"),k,r.a.createElement(pe,{setPage:E,setLoading:i,count:x,page:b})):r.a.createElement("div",{style:{textAlign:"center"}},"you haven't annotated any image yet...")},yt=Object(D.a)(function(){return{image:{marginBottom:"30px",border:"1px solid #ddd",padding:"10px",borderRadius:"5px"},title:{textAlign:"center"},description:{},font:{fontSize:"10px"},img:{width:"100%"},hr:{backgroundColor:"#ddd"}}});var xt=function(){var e=yt(),t=Object(n.useState)(!0),a=Object(l.a)(t,2),o=a[0],c=a[1],i=Object(n.useState)([]),s=Object(l.a)(i,2),u=s[0],m=s[1];Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(P,"/api/user/images/all"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,m(n.images),c(!1);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var d=u.map(function(t){return r.a.createElement("div",{key:t._id,className:e.image},r.a.createElement("p",{className:e.title},t.title),r.a.createElement("hr",{className:e.hr}),r.a.createElement("img",{className:e.img,src:t.image,alt:""}),r.a.createElement("hr",{className:e.hr}),r.a.createElement("p",{className:e.font},"Font: ",r.a.createElement("a",{href:t.imageFont},t.imageFont)),r.a.createElement("p",{className:e.description},t.description))});return o?r.a.createElement($,null):r.a.createElement("div",null,r.a.createElement("h3",{className:e.title},"All images"),d)},jt=a(98),Ot=Object(D.a)(function(e){return{paper:{background:"red"},title:{textAlign:"center"},hr:{backgroundColor:"#ddd",margin:"20px 0"},category:{backgroundColor:"#000",color:"#fff",padding:3,borderRadius:4},pagination:{display:"flex",alignItems:"center",justifyContent:"center"},video:{marginBottom:40,border:"1px solid #ddd",padding:25,borderRadius:5}}}),wt=r.a.forwardRef(function(e,t){return r.a.createElement(fe.a,Object.assign({direction:"up",ref:t},e))});function Nt(e){var t=e.title,a=e.id,n=(e.video,e.deleteVideo),o=r.a.useState(!1),c=Object(l.a)(o,2),i=c[0],s=c[1],u=function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:s(!1),n(a);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),m=function(){s(!1)};return r.a.createElement("div",null,r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){s(!0)}},"Delete"),r.a.createElement(ae.a,{open:i,TransitionComponent:wt,keepMounted:!0,onClose:m,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",style:{textAlign:"center"}},r.a.createElement(ce.a,{id:"alert-dialog-slide-title"},"Are you sure you want to delete this video?"),r.a.createElement(re.a,null,r.a.createElement(oe.a,{id:"alert-dialog-slide-description"},t)),r.a.createElement(ne.a,null,r.a.createElement(E.a,{variant:"outlined",onClick:m,color:"default"},"Cancel"),r.a.createElement(E.a,{variant:"outlined",onClick:u,color:"secondary"},"Delete"))))}var Ct=function(e){var t=e.el,a=e.youtube_parser,n=e.deleteVideo,o=Ot(),c=t._id,i=t.title,l=t.videoUrl,s=t.videoStart,u=t.videoEnd,m=t.description,d=t.selectedPerson,p=t.contentAction,g=t.toneForm;return r.a.createElement("div",{key:c,className:o.video},r.a.createElement("iframe",{title:c,src:"https://www.youtube.com/embed/"+a(l)+"?start=11&end=1&autoplay=1",width:"100%",height:"500px",frameBorder:"0",allowFullScreen:!0}),r.a.createElement("h3",null,i),r.a.createElement("p",null,"Url:"," ",r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},l)),r.a.createElement("p",null,"Start: ",s," "),r.a.createElement("p",null,"End: ",u),r.a.createElement("p",null,"Description: ",m||"no description provided"),r.a.createElement("hr",{className:o.hr}),r.a.createElement("p",null,"Person doing the action: "),r.a.createElement("img",{src:d,alt:"",srcSet:""}),r.a.createElement("hr",{className:o.hr}),r.a.createElement(Re,{title:"Content/Action",categoryRangeContentAction:p}),r.a.createElement(Re,{title:"Tone/Form",categoryRangeContentAction:g}),r.a.createElement("hr",{className:o.hr}),r.a.createElement(Nt,{title:i,id:c,deleteVideo:n}))};var kt=function(e){var t=Ot(),a=Object(n.useContext)(A),o=Object(n.useState)(!0),c=Object(l.a)(o,2),i=c[0],s=c[1],u=Object(n.useState)([]),m=Object(l.a)(u,2),d=m[0],p=m[1],f=Object(n.useState)(1),b=Object(l.a)(f,2),E=b[0],v=b[1],y=Object(n.useState)(0),x=Object(l.a)(y,2),j=x[0],O=x[1];function w(e){return N.apply(this,arguments)}function N(){return(N=Object(h.a)(g.a.mark(function e(t){var n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return s(!0),e.prev=1,n=localStorage,r=n.token,e.next=5,fetch("".concat(P,"/api2/video/").concat(t),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 5:200===e.sent.status?(a("Video annotation deleted!"),p(d.filter(function(e){return e._id!==t}))):a("There was a problem deleting the video annotation","","danger"),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0),a("There was a problem deleting the video annotation","","danger");case 13:return e.prev=13,s(!1),e.finish(13);case 16:case"end":return e.stop()}},e,null,[[1,9,13,16]])}))).apply(this,arguments)}function C(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(P,"/api/user/videos/").concat(E),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,p(n.videos),O(n.count),s(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[E]);var k=d.map(function(e){return r.a.createElement(Ct,{key:e._id,youtube_parser:C,el:e,deleteVideo:w})});return i?r.a.createElement($,null):d.length?r.a.createElement("div",{className:t.root},r.a.createElement(jt.Helmet,null,r.a.createElement("title",null,"EthicsNet - Videos - ".concat(E))),r.a.createElement("h3",{className:t.title},"All videos"),k,r.a.createElement(pe,{setPage:v,setLoading:s,count:j,page:E})):r.a.createElement("div",{style:{textAlign:"center"}},"you haven't annotated any video yet...")},St=Object(D.a)(function(e){return{paper:{background:"red"},title:{textAlign:"center"},hr:{backgroundColor:"#ddd",margin:"50px 0"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},time:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"48%"},button:{marginTop:25}}});function At(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Tt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?At(a,!0).forEach(function(t){Object(M.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):At(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var It=function(e){var t=St(),a=Object(n.useState)(!0),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)(""),u=Object(l.a)(s,2),m=u[0],d=u[1],p=r.a.useState({title:"",description:"",start:"00:00",end:"00:30",category:"morally preferable"}),f=Object(l.a)(p,2),b=f[0],v=f[1],y=Object(n.useState)(50),x=Object(l.a)(y,2),j=x[0],O=x[1],w=Object(n.useState)(50),N=Object(l.a)(w,2),C=N[0],k=N[1],S=Object(n.useContext)(I),A=Object(l.a)(S,2),T=A[0],F=A[1],D=function(e){return function(t){v(Tt({},b,Object(M.a)({},e,t.target.value)))}},R=function(){var e=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage,a=t.token,e.next=4,fetch("".concat(P,"/api2/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,200===n.status&&(o=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]},c="https://www.youtube.com/embed/"+o(r.user.cachedVideo),d(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("there was an error -> ",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();function B(){return(B=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,l,s,u,d,p,h,f,E;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),F(Tt({},b,{videoUrl:m})),i(!0),n=b.title,r=b.description,o=b.category,c=b.start,l=b.end,s=localStorage,u=s.token,d=s.userId,p={category:o,title:n,description:r,videoUrl:m,contentAction:j,toneForm:C,videoStart:c,videoEnd:l,authorId:d},t.prev=6,t.next=9,fetch("".concat(P,"/api/video"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(u)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(p)});case 9:return h=t.sent,t.next=12,h.json();case 12:f=t.sent,console.log("===================================="),console.log("Video saved -> ",f.videoCreated._id),E=f.videoCreated._id,localStorage.selectVideoId=E,e.history.push("/save-video-action"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(6),console.error(t.t0);case 23:case"end":return t.stop()}},t,null,[[6,20]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){R(),i(!1)},[]),Object(n.useEffect)(function(){console.log("state has changed!"),console.log("===================================="),console.log(T),console.log("====================================")},[T]),c?r.a.createElement($,null):r.a.createElement("div",{className:t.root},r.a.createElement("h3",{className:t.title},"Save video"),r.a.createElement("iframe",{title:m,src:m,frameBorder:"0",width:"100%",height:"500px",allowFullScreen:!0}),r.a.createElement("form",{className:t.container,onSubmit:function(e){return B.apply(this,arguments)},autoComplete:"off"},r.a.createElement(_.a,{id:"standard-name",label:"Video title",className:t.textField,value:b.title,onChange:D("title"),margin:"normal",required:!0}),r.a.createElement(_.a,{id:"time",label:"Video start",type:"time",value:b.start,onChange:D("start"),className:t.time,required:!0}),r.a.createElement(_.a,{id:"time",label:"Video end",type:"time",value:b.end,onChange:D("end"),className:t.time,required:!0}),r.a.createElement(_.a,{id:"standard-multiline-static",label:"Video description",multiline:!0,rows:"4",value:b.description,className:t.textField,onChange:D("description"),margin:"normal",required:!0}),r.a.createElement(Ae,{range:j,setValue:O,name:"Content/Action"}),r.a.createElement(Ae,{range:C,setValue:k,name:"Tone/Form"}),r.a.createElement(E.a,{type:"submit",color:"primary",variant:"outlined",className:t.button},"Save Video")))},Pt=a(186),Ft=Object(D.a)(function(e){return{title:{textAlign:"center",marginTop:10},subtitle:{marginTop:20,color:"#999"},steps:{marginTop:20,color:e.palette.primary.dark},numbers:{fontSize:16,color:e.palette.primary.dark},link:{color:"#1a0dab"},stepsImage:{width:"100%",marginTop:10,marginBottom:50},stepsComponent:{marginTop:20},hr:{backgroundColor:"#ddd",margin:"30px 0px"}}});function Dt(e){var t=Ft(),a=e.title,o=e.subtitle;return r.a.createElement(n.Fragment,null,r.a.createElement("hr",{className:t.hr}),r.a.createElement(V.a,{variant:"h5",className:t.title},a),r.a.createElement(V.a,{className:t.subtitle,variant:"subtitle1"},o))}function Rt(e){var t=Ft(),a=e.img,n=e.children;return r.a.createElement("div",{className:t.stepsComponent},n,r.a.createElement("img",{className:t.stepsImage,src:a,alt:"",srcSet:""}))}var Bt=a(99),Lt=a.n(Bt),Wt=a(100),Vt=a.n(Wt),zt=a(101),Ut=a.n(zt),Mt=a(102),_t=a.n(Mt),Gt=a(103),qt=a.n(Gt),Ht=a(104),Jt=a.n(Ht),Yt=a(105),$t=a.n(Yt),Kt=a(106),Qt=a.n(Kt),Xt=a(107),Zt=a.n(Xt),ea=a(108),ta=a.n(ea),aa={0:Lt.a,1:Vt.a,2:Ut.a},na={0:_t.a,1:qt.a,2:Jt.a},ra={0:$t.a,1:Qt.a,2:Zt.a,3:ta.a},oa=["Select the text, you'll see a yellow button, click it to open the sidebar.","The sidebar will open on the right, you can now edit the text if you'd like, select a category and save the text annotation.","It's done! Now you can make another annotation or check all annotation on the EthicsNet website."].map(function(e,t){return r.a.createElement(Rt,{key:t,img:aa[t]},r.a.createElement("span",null,t+1," - "),e)}),ca=["Open the page you want to annotate an image from and right click it, it will open a menu.","Click on the select area button, it will open a new window, so you can select the area you want to annotate. Select the area and then hit 'save image'.","Finally, you can review the\n  selected area, add a title, description and category. When everything is\n  ready to go, hit save and that's it! You just annotated an image!"].map(function(e,t){return r.a.createElement(Rt,{key:t,img:na[t]},r.a.createElement("span",null,t+1," - "),e)}),ia=["Open the youtube video you want to annotate.","Click the EthicsNet extension button on the top right of chrome, then click on the 'Annotate video' button.","he input will already be with the current video url, change it if you need it, then click on 'save'. It will open a new window.","Now you just need to add when the action happens, when it ends, a title, description and category, click on 'save video' and there you go! You have just annotated a video action with the EthicsNet extension."].map(function(e,t){return r.a.createElement(Rt,{key:t,img:ra[t]},r.a.createElement("span",null,t+1," - "),e)});var la=function(e){var t=Ft();return r.a.createElement(n.Fragment,null,r.a.createElement(V.a,{variant:"h4",className:t.title},"EthicsNet extension"),r.a.createElement(V.a,{className:t.subtitle,variant:"subtitle1"},"Welcome to the EthicsNet extension - here there are a few tips on how to use the extension to annotate text, images and videos from the web!"),r.a.createElement(V.a,{variant:"h5",className:t.title},"First steps"),r.a.createElement(V.a,{className:t.steps,variant:"body1"},r.a.createElement("span",{className:t.numbers},"1 - "),"Download the chome extension from the"," ",r.a.createElement(Pt.a,{href:"https://chrome.google.com/webstore/detail/djamiamgnjcpjhkknjddilkaibbhmhgc/",target:"_blank",rel:"noreferrer",className:t.link},"chrome web store"),"."),r.a.createElement(V.a,{className:t.steps,variant:"body1"},r.a.createElement("span",{className:t.numbers},"2 - "),"Create an account on"," ",r.a.createElement(Pt.a,{href:"http://extension.lupuselit.me/#/register",target:"_blank",rel:"noreferrer",className:t.link},"the EthicsNet website.")),r.a.createElement(Dt,{title:"Annotating text",subtitle:"While you are browsing the web, once you have the EthicsNet extension installed you can annotate text from any website."}),oa,r.a.createElement(Dt,{title:"Annotating images",subtitle:"Image annotations work a little bit differently from text annotation, it first takes a screenshot of the current webpage you want to annotate, then you will see a screen to crop the image and add more details. Follow these steps:"}),ca,r.a.createElement(Dt,{title:"Annotating videos",subtitle:"Currently we only support annotating videos from youtube. It works like this:"}),ia,r.a.createElement(Dt,{title:"Next steps",subtitle:"Now you know how to use the EthicsNet extension"}),r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:function(){e.history.push("/")}},"Home"))},sa=Object(D.a)(function(e){return{img:{},title:{textAlign:"center",marginBottom:30},textField:{width:"100%"},hr:{backgroundColor:"#ddd"},typography:{textAlign:"center"},submit:{marginTop:20},imgWrapper:{display:"flex",justifyContent:"center",alginItems:"center"}}});var ua=function(e){var t=sa(),a=Object(n.useState)(!0),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useContext)(I),u=Object(l.a)(s,1)[0],m=Object(n.useState)(""),d=Object(l.a)(m,2),p=d[0],g=d[1];if(Object(n.useEffect)(function(){i(!1);var e=u.end,t=u.start,a=u.videoUrl,n=10*t[0]+1*t[1],r=10*t[3]+1*t[4]+60*n,o=10*e[0]+1*e[1],c=10*e[3]+1*e[4]+60*o;g("".concat(a,"?start=").concat(r,"&end=").concat(c,"&autoplay=1"))},[u]),c)return r.a.createElement($,null);if(u.videoUrl){var h=u.videoUrl;return r.a.createElement("div",{className:t.root},r.a.createElement(V.a,{variant:"h4",className:t.title},"Save video"),r.a.createElement("iframe",{title:h,src:p,frameBorder:"0",width:"100%",height:"500px",allowFullScreen:!0}),r.a.createElement("hr",{className:t.hr}),r.a.createElement("div",null,r.a.createElement(V.a,{variant:"body1",gutterBottom:!0},"Play the video then pause when you want to save the person who's doing the action"),r.a.createElement(V.a,{variant:"body1",gutterBottom:!0},"When you see the person clearly, hit the 'Select person' button.")),r.a.createElement(E.a,{onClick:function(){i(!0),setTimeout(function(){e.history.push("/select-person-action")},3e3)},"data-extension-person":!0,color:"primary",variant:"outlined"},"Select person"))}return r.a.createElement("div",null,r.a.createElement("p",null,"ops... there was an error processing your request"))},ma=function(e){function t(){var e,a;Object(Ze.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(tt.a)(this,(e=Object(at.a)(t)).call.apply(e,[this].concat(o)))).state={showBtn:"none",loading:!0,src:"",croppedImageUrl:"",imageFont:"",crop:{unit:"%",width:30}},a.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){return a.setState({src:t.result})}),t.readAsDataURL(e.target.files[0])}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){a.makeClientCrop(e)},a.onCropChange=function(e,t){a.setState({crop:e})},a.updateVideoPerson=Object(h.a)(g.a.mark(function e(){var t,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage,n=t.token,r=t.selectVideoId,e.next=3,fetch("".concat(P,"/api2/video/update/").concat(r),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({selectedPerson:a.state.croppedImageUrl})});case 3:setTimeout(function(){a.props.history.push("/user/videos")},1e3);case 4:case"end":return e.stop()}},e)})),a.saveCroppedScreenshot=function(){a.updateVideoPerson()},a.renderSelectionAddon=function(){return r.a.createElement(E.a,{color:"primary",type:"button",variant:"contained",style:{position:"absolute",bottom:-45,right:0},onClick:a.saveCroppedScreenshot},"Save Person")},a}return Object(nt.a)(t,e),Object(et.a)(t,[{key:"componentDidMount",value:function(){this.setState({src:localStorage.selectPersonImage,loading:!1})}},{key:"makeClientCrop",value:function(){var e=Object(h.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:a=e.sent,this.setState({croppedImageUrl:a,showBtn:"block"});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var n=document.createElement("canvas"),r=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*r,t.y*o,t.width*r,t.height*o,0,0,t.width,t.height),n.toDataURL("image/jpeg")}},{key:"render",value:function(){var e=this.state,t=e.crop,a=e.croppedImageUrl,n=e.src;return this.state.loading?r.a.createElement($,null):r.a.createElement("div",{style:{position:"absolute",width:"100%",left:"0",top:"82px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"Select the person who's doing the action you want to annotate"),n&&r.a.createElement(ot.a,{src:n,crop:t,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,renderSelectionAddon:this.renderSelectionAddon}),a&&r.a.createElement("img",{alt:"Crop",style:{width:"auto"},src:a}))}}]),t}(n.PureComponent);function da(e){return r.a.createElement("div",{style:{height:"100vh",paddingBottom:50}},r.a.createElement("iframe",{width:"100%",height:"100%",title:"privacy",src:"https://www.termsfeed.com/eula/b6470a865ca4a16b4025b524c8a13cc9",frameborder:"0"}),r.a.createElement(E.a,{style:{marginTop:15},type:"button",color:"primary",variant:"outlined",onClick:function(){return e.history.push("/")}},"Accept"))}var pa=Object(D.a)(function(e){return{about:{},p:{}}});var ga=function(){var e=pa();return r.a.createElement("div",{className:e.about},r.a.createElement("div",null,r.a.createElement("p",null,"EthicsNet Annotation Extension \u2013 Chrome Version "),r.a.createElement("p",null,"Version 0.1.36-alpha (Release 47)"),r.a.createElement("p",null,"Copyright \xa9 2019, EthicsNet Inc, (11412076), All rights reserved.")),r.a.createElement("p",{className:e.p},"Developed by"," ",r.a.createElement("a",{href:"http://lupuselit.me",target:"_blank",rel:"noopener noreferrer"},"Emerson Lopes")))},ha=Object(D.a)(function(e){return{admin:{},p:{}}});var fa=function(e){var t=ha(),a=Object(n.useState)(!0),o=Object(l.a)(a,2),c=o[0],i=o[1],s=Object(n.useState)({}),u=Object(l.a)(s,2),m=u[0],d=u[1];return Object(n.useEffect)(function(){function t(){return(t=Object(h.a)(g.a.mark(function t(){var a,n,r,o;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=localStorage,n=a.token,t.next=3,fetch("".concat(P,"/api2/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 3:return r=t.sent,t.next=6,r.json();case 6:o=t.sent,i(!1),o.user.isAdmin||e.history.push("/");case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[i,e.history]),Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage,a=t.token,e.next=3,fetch("".concat(P,"/api2/admin/stats"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,d(r);case 8:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[e.history]),c?r.a.createElement($,null):r.a.createElement("div",{className:t.admin},r.a.createElement("h1",null,"General info"),r.a.createElement("h2",null,"Users created: ",m.numUsers),r.a.createElement("h2",null,"Tetxs annotated: ",m.numTexts),r.a.createElement("h2",null,"Images annotated: ",m.numImages),r.a.createElement("h2",null,"Videos annotated: ",m.numVideos),r.a.createElement(E.a,{variant:"outlined"},"This is a button"))},ba=a(54),Ea=function(e){var t=e.title,a=e.component,n=e.restricted,o=Object(ba.a)(e,["title","component","restricted"]);return t&&(document.title=t),r.a.createElement(s.b,Object.assign({},o,{render:function(e){return"true"===localStorage.isLogged&&n?r.a.createElement(s.a,{to:"/"}):r.a.createElement(a,e)}}))},va=function(e){var t=e.title,a=e.component,n=e.restricted,o=Object(ba.a)(e,["title","component","restricted"]);return t&&(document.title=t),r.a.createElement(s.b,Object.assign({},o,{render:function(e){return"true"===localStorage.isLogged&&n?r.a.createElement(s.a,{to:"/how-to-use"}):r.a.createElement(a,e)}}))},ya=function(e){var t=e.title,a=e.component,n=Object(ba.a)(e,["title","component"]);return t&&(document.title=t),r.a.createElement(s.b,Object.assign({},n,{render:function(e){return"true"===localStorage.getItem("isLogged")?r.a.createElement(a,Object.assign({title:t},e)):r.a.createElement(s.a,{to:"/login"})}}))},xa=function(e){var t=e.title,a=e.component,n=Object(ba.a)(e,["title","component"]);t&&(document.title=t);var o=r.a.useState(!0),c=Object(l.a)(o,2),i=c[0],u=c[1],m=r.a.useState(!0),d=Object(l.a)(m,2),p=d[0],f=d[1];function b(){return(b=Object(h.a)(g.a.mark(function e(){var t,a,n,r;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage,a=t.token,e.next=3,fetch("".concat(P,"/api2/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 3:return n=e.sent,e.next=6,n.json();case 6:r=e.sent,u(r.user.isAdmin),f(!1);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}return r.a.useEffect(function(){!function(){b.apply(this,arguments)}()},[]),p?r.a.createElement($,null):r.a.createElement(s.b,Object.assign({},n,{render:function(e){return i?r.a.createElement(a,Object.assign({title:t},e)):r.a.createElement(s.a,{to:"/"})}}))},ja=Object(D.a)(function(e){return{root:{minHeight:"calc(100vh - 128px)"},paper:{padding:e.spacing(3,2),margin:"20px auto"},loaderWrapper:{height:"calc(100vh - 98px)",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var Oa=Object(s.g)(function(e){var t=ja(),a=Object(n.useContext)(S),o=Object(l.a)(a,1)[0];return Object(n.useEffect)(function(){console.log("\n\n********************************\n\nETHICSNET ALPHA VERSION: 0.0.38\n\n********************************\n\n");var t=localStorage.getItem("lastclear"),a=(new Date).getTime();localStorage.isLogged&&t&&a-t>2592e6&&(localStorage.clear(),localStorage.setItem("lastclear",a),e.history.push("/logged-out"))},[]),o?r.a.createElement(n.Fragment,null,r.a.createElement(B,null),r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(m.a,null)),r.a.createElement(W,null)):r.a.createElement(n.Fragment,null,r.a.createElement(B,null),r.a.createElement(d.a,{className:t.root,maxWidth:"md"},r.a.createElement(u.a,{className:t.paper,elevation:2},r.a.createElement(s.d,null,r.a.createElement(ya,{exact:!0,path:"/",component:Ye}),r.a.createElement(va,{exact:!0,path:"/register",restricted:!0,component:X}),r.a.createElement(Ea,{title:"EthicsNet - Login",exact:!0,path:"/login",restricted:!0,component:te}),r.a.createElement(Ea,{title:"EthicsNet - About",exact:!0,path:"/about",component:ga}),r.a.createElement(ya,{exact:!0,path:"/profile",component:me}),r.a.createElement(xa,{exact:!0,path:"/admin",title:"EthicsNet - Admin",component:fa}),r.a.createElement(s.b,{exact:!0,path:"/landing",component:U}),r.a.createElement(Ea,{title:"EthicsNet - How to use",exact:!0,path:"/how-to-use",component:la}),r.a.createElement(Ea,{title:"EthicsNet - How to use",exact:!0,path:"/privacy-policy",component:H}),r.a.createElement(Ea,{title:"EthicsNet - How to use",exact:!0,path:"/terms-and-conditions",component:q}),r.a.createElement(Ea,{title:"EthicsNet - How to use",exact:!0,path:"/eula",component:da}),r.a.createElement(s.b,{exact:!0,path:"/logged-out",component:Ke}),r.a.createElement(ya,{title:"EthicsNet - Annotations",exact:!0,path:"/profile/annotations",component:Ve}),r.a.createElement(ya,{title:"EthicsNet - New Annotation",exact:!0,path:"/profile/anotations",component:Ve}),r.a.createElement(ya,{title:"EthicsNet - New Annotation",exact:!0,path:"/annotations/new",component:Xe}),r.a.createElement(ya,{title:"EthicsNet - Save Video Action",exact:!0,path:"/save-video-action",component:ua}),r.a.createElement(ya,{title:"EthicsNet - Screenshot",exact:!0,path:"/profile/anotations/screenshots",component:it}),r.a.createElement(ya,{title:"EthicsNet - Select person",exact:!0,path:"/select-person-action",component:ma}),r.a.createElement(ya,{title:"EthicsNet - New Image",exact:!0,path:"/image/new",component:ct}),r.a.createElement(ya,{title:"EthicsNet - Save Image",exact:!0,path:"/image/save",component:ut}),r.a.createElement(ya,{title:"EthicsNet - Save Video",exact:!0,path:"/video/save",component:It}),r.a.createElement(ya,{title:"EthicsNet - Images",exact:!0,path:"/user/images",component:vt}),r.a.createElement(ya,{title:"EthicsNet - Videos",exact:!0,path:"/user/videos",component:kt}),r.a.createElement(ya,{title:"EthicsNet - All Images",exact:!0,path:"/user/images/all",component:xt}),r.a.createElement(ya,{title:"EthicsNet - Edit Annotation",exact:!0,path:"/profile/annotations/edit/:id",component:He}),r.a.createElement(s.b,{component:ze})))),r.a.createElement(W,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));setTimeout(function(){c.a.render(r.a.createElement(i.a,null,r.a.createElement(F,null,r.a.createElement(Oa,null))),document.getElementById("root"))},500),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},77:function(e,t,a){},99:function(e,t,a){e.exports=a.p+"static/media/text1.4f322a6e.png"}},[[120,1,2]]]);
//# sourceMappingURL=main.541cbfbb.chunk.js.map