(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{76:function(e,t,a){e.exports=a(90)},81:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(10),o=a.n(c),l=a(16),i=(a(81),a(7)),s=a(32),m=a(131),u=a(70),p=a(137),d=a(144),f=a(8),h=a.n(f),g=a(13),b=a(133),E=a(134),v=a(136),j=a(135),x=a(66),O=a.n(x),y=a(68),w=a(130),N=a(129),S=Object(y.a)({palette:{primary:{main:N.a[500]},secondary:{main:"#11cb5f"}}}),k=Object(n.createContext)(localStorage.isLogged),C=Object(n.createContext)(!0);var I=function(e){var t=e.children,a=Object(n.useState)(localStorage.isLogged),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],p=m[1];return r.a.createElement(C.Provider,{value:[u,p]},r.a.createElement(k.Provider,{value:[o,l]},r.a.createElement(w.a,{theme:S},t)))},F=Object(m.a)(function(e){return{root:{flexGrow:1,marginBottom:"10px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#fff",textDecoration:"none"},link:{color:"#fff",textDecoration:"none"}}});var T=Object(s.g)(function(e){var t=F(),a=Object(n.useContext)(C),c=Object(i.a)(a,2),o=c[0],s=c[1],m=Object(n.useContext)(k),u=Object(i.a)(m,2),p=(u[0],u[1]);return Object(n.useEffect)(function(){function e(){return(e=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),s(!1)},[o]),r.a.createElement("div",{className:t.root},r.a.createElement(b.a,{position:"static"},r.a.createElement(E.a,null,r.a.createElement(j.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(O.a,null)),r.a.createElement(l.b,{color:"inherit",className:t.title,to:"/"},"Home"),"true"===localStorage.isLogged?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/profile"},"Profile")),r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/profile/anotations"},"Anotations")),r.a.createElement(v.a,{color:"inherit",onClick:function(){localStorage.isLogged=null,p("false"),e.history.push("/")}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/login"},"Log in")),r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/register"},"Register"))))))}),A=Object(m.a)(function(e){return{footer:{border:"1px solid #000",textAlign:"center",width:"100%",bottom:"1px",color:"#fff",background:e.palette.primary.main},p:{margin:"2px"}}});var L=function(e){var t=A(),a=Object(n.useState)(!0),c=Object(i.a)(a,2),o=c[0],l=c[1];return Object(n.useEffect)(function(){function e(){return(e=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),l(!1)},[o]),r.a.createElement("div",{className:t.footer},r.a.createElement("p",{className:t.p},"ethics eth - 2019"))},W=a(30),B=a(33),D=(a(3),a(145)),P=(a(89),Object(m.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"100vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}}));var R=function(e){var t=P(),a=Object(n.useContext)(k),c=Object(i.a)(a,2),o=(c[0],c[1],Object(n.useState)(!1)),l=Object(i.a)(o,2),s=l[0],m=(l[1],r.a.useState({firstName:"emerson",lastName:"lopes",email:"lupuselit@gmail.com",password:"12345",age:"23"})),u=Object(i.a)(m,2),d=u[0],f=u[1],b=function(e){return function(t){f(Object(B.a)({},d,Object(W.a)({},e,t.target.value)))}};Object(n.useEffect)(function(){console.log(d)},[d]);var E=function(){var e=Object(g.a)(h.a.mark(function e(t){var a,n,r,c,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d,t.preventDefault(),e.prev=2,e.next=5,fetch("http://localhost:5000/auth/register",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(a)});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,c=r.token,o=r.user,localStorage.setItem("userId",o._id),localStorage.setItem("userName",o.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("token",c),window.location.reload(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0);case 21:case"end":return e.stop()}},e,null,[[2,18]])}));return function(t){return e.apply(this,arguments)}}();return s?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(p.a,null)):r.a.createElement("div",{className:t.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"Ethics eth - sign up")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:E},r.a.createElement("div",null,r.a.createElement(D.a,{required:!0,className:t.textField,id:"first-name",label:"First Name",value:d.firstName,onChange:b("firstName"),margin:"normal"}),r.a.createElement(D.a,{required:!0,className:t.textField,id:"last-name",label:"Last Name",value:d.lastName,onChange:b("lastName"),margin:"normal"})),r.a.createElement("div",null,r.a.createElement(D.a,{required:!0,className:t.textField,id:"email",type:"email",label:"Email",value:d.email,onChange:b("email"),margin:"normal"}),r.a.createElement(D.a,{required:!0,className:t.textField,id:"password",type:"password",label:"Password",value:d.password,onChange:b("password"),margin:"normal"})),r.a.createElement(v.a,{className:t.submit,type:"submit",variant:"contained",color:"primary"},"Sign up")))},q=Object(m.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var z=function(e){var t=q(),a=Object(n.useState)(!1),c=Object(i.a)(a,2),o=c[0],l=(c[1],Object(n.useContext)(k)),s=Object(i.a)(l,2),m=(s[0],s[1],r.a.useState({email:"lupuselit@gmail.com",password:"12345"})),u=Object(i.a)(m,2),d=u[0],f=u[1],b=function(e){return function(t){f(Object(B.a)({},d,Object(W.a)({},e,t.target.value)))}};Object(n.useEffect)(function(){},[d]);var E=function(){var e=Object(g.a)(h.a.mark(function e(t){var a,n,r,c,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d,t.preventDefault(),e.prev=2,e.next=5,fetch("http://localhost:5000/auth/authenticate",{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(a)});case 5:return n=e.sent,e.next=8,n.json();case 8:r=e.sent,c=r.token,o=r.user,localStorage.setItem("userId",o._id),localStorage.setItem("userName",o.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("token",c),window.location.reload(),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0);case 21:case"end":return e.stop()}},e,null,[[2,18]])}));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(p.a,null)):r.a.createElement("div",{className:t.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"Ethics eth - login")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:E},r.a.createElement("div",null,r.a.createElement(D.a,{required:!0,className:t.textField,id:"email",label:"email",value:d.email,onChange:b("email"),margin:"normal"}),r.a.createElement(D.a,{required:!0,className:t.textField,type:"password",id:"password",label:"password",value:d.password,onChange:b("password"),margin:"normal"})),r.a.createElement(v.a,{className:t.submit,type:"submit",variant:"contained",color:"primary"},"login")))},_=Object(m.a)(function(e){return{loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{textAlign:"center"},textField:{width:"330px",marginLeft:e.spacing(1),marginRight:e.spacing(1)}}});var J=function(e){var t=_(),a=Object(n.useState)(!0),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)({}),m=Object(i.a)(s,2),u=(m[0],m[1]),d=Object(n.useState)({name:"",last:"",email:""}),f=Object(i.a)(d,2),b=f[0],E=f[1],j=function(e){return function(t){E(Object(B.a)({},b,Object(W.a)({},e,t.target.value)))}};Object(n.useEffect)(function(){function e(){return(e=Object(g.a)(h.a.mark(function e(){var t,a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("http://localhost:5000/api/user",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,u(n.user),E(Object(B.a)({},b,{name:n.user.firstName,last:n.user.lastName,email:n.user.email})),l(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[o]);var x=function(){var e=Object(g.a)(h.a.mark(function e(t){var a,n,r,c,o;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={firstName:b.name,lastName:b.last,email:b.email},n=localStorage,r=n.token,c=n.userId,e.next=5,fetch("http://localhost:5000/api/user/".concat(c),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify(a)});case 5:return o=e.sent,e.next=8,o.json();case 8:e.sent;case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return o?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(p.a,null)):r.a.createElement("div",{className:t.container},r.a.createElement("header",{className:t.header},"ETHICS ETH - MY PROFILE"),r.a.createElement("main",null,r.a.createElement("form",{onSubmit:x},r.a.createElement("div",null,r.a.createElement(D.a,{id:"standard-name",label:"First name",className:t.textField,value:b.name,onChange:j("name"),margin:"normal",required:!0}),r.a.createElement(D.a,{id:"standard-name",label:"Last name",className:t.textField,value:b.last,onChange:j("last"),margin:"normal",required:!0})),r.a.createElement("div",null,r.a.createElement(D.a,{style:{width:"330px",marginBottom:"20px"},id:"standard-name",label:"Email",className:t.textField,value:b.email,onChange:j("email"),margin:"normal",type:"email",required:!0})),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},type:"submit"},"Save"),r.a.createElement(v.a,{color:"secondary",type:"button",variant:"outlined"},"Delete account"))))},G=a(143),H=a(147),M=a(142),U=a(140),Y=a(141),$=a(139),K=a(138),Q=r.a.forwardRef(function(e,t){return r.a.createElement(K.a,Object.assign({direction:"up",ref:t},e))});function V(e){var t=e.open,a=e.handleClose,c=e.content,o=e.id,l=e.filterAnotations,i=e.elId;Object(n.useEffect)(function(){console.log("dialog opened...",e.open),console.log("hello"),console.log("id -> ",o)},[o,e.open]);var s=function(){var e=Object(g.a)(h.a.mark(function e(){var t,n,r;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage,n=t.token,e.next=4,fetch("http://localhost:5000/api/user/anotations/".concat(o),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,e.next=7,r.json();case 7:e.sent,l(o),a(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}},e,null,[[0,12]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(H.a,{open:t&&i===o,TransitionComponent:Q,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement($.a,{id:"alert-dialog-slide-title"},"Are you sure you want to detele this anotation?"),r.a.createElement(U.a,null,r.a.createElement(Y.a,{id:"alert-dialog-slide-description"},'"',c,'"')),r.a.createElement(M.a,null,r.a.createElement(v.a,{onClick:a,color:"secondary"},"Cancel"),r.a.createElement(v.a,{onClick:s,color:"primary"},"Delete"))))}var X=Object(m.a)(function(e){return{paper:{padding:e.spacing(3,2),margin:"20px 20px","&:hover":{boxShadow:"0px 0px 5px 2px rgba(0,0,0,0.4)",cursor:"pointer"}},title:{textAlign:"center"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var Z=function(e){var t=X(),a=Object(n.useState)([]),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],d=m[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),E=b[0],j=b[1],x=Object(n.useState)(""),O=Object(i.a)(x,2),y=O[0],w=O[1];function N(e){console.log("id to remove-> ",e),l(o.filter(function(t){return t._id!==e}))}function S(){j(!1)}Object(n.useEffect)(function(){function e(){return(e=Object(g.a)(h.a.mark(function e(){var t,a,n;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("http://localhost:5000/api/user/anotations",{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,l(n.anotations),d(!1);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[u]);var k=function(t,a){"edit"===a?e.history.push("/profile/anotations/edit/".concat(t)):"delete"===a&&(console.log("delete id ->",t),w(t),j(!0))},C=o.map(function(e){return r.a.createElement(G.a,{className:t.paper,key:e._id},r.a.createElement(V,{content:e.content,open:E,handleClose:S,id:y,elId:e._id,filterAnotations:N}),r.a.createElement("p",null," ",e.content," "),r.a.createElement("p",null," ",e.createdAt.substring(0,10)," "),r.a.createElement("div",null,r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},onClick:function(){return k(e._id,"edit")}},"Edit"),r.a.createElement(v.a,{color:"secondary",variant:"outlined",onClick:function(){return k(e._id,"delete")}},"Delete")))});return u?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(p.a,null)):r.a.createElement("div",null,r.a.createElement("h3",{className:t.title},"Anotations"),r.a.createElement("div",null,C))};var ee=function(){return r.a.createElement("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"30px",textAlign:"center"}},"404 ",r.a.createElement("br",null)," not found")};Object(m.a)(function(e){return{paper:{background:"red"}}});var te=Object(m.a)(function(e){return{paper:{background:"red","@media (min-width:600px)":{}},textField:{width:"100%"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var ae=function(e){var t=te(),a=Object(n.useState)({}),c=Object(i.a)(a,2),o=c[0],l=c[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],f=Object(n.useState)(!0),b=Object(i.a)(f,2),E=b[0],j=b[1];Object(n.useEffect)(function(){function t(){return(t=Object(g.a)(h.a.mark(function t(){var a,n,r,c,o;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.isLogged,a=e.match.params.id,n=localStorage,r=n.token,t.next=5,fetch("http://localhost:5000/api/user/anotations/".concat(a),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 5:return c=t.sent,t.next=8,c.json();case 8:o=t.sent,l(o.anotation),d(o.anotation.content),j(!1);case 12:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[E,e.match.params]);var x=function(){var t=Object(g.a)(h.a.mark(function t(){var a,n,r,c;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match.params.id,n=localStorage,r=n.token,t.next=4,fetch("http://localhost:5000/api/user/anotations/".concat(a),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({content:u})});case 4:return c=t.sent,t.next=7,c.json();case 7:t.sent;case 8:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return e.match.params.id,E?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(p.a,null)):r.a.createElement("div",null,r.a.createElement("p",null,o.createdAt.substring(0,10)),r.a.createElement(D.a,{id:"standard-multiline-flexible",label:"edit anotation",multiline:!0,rowsMax:"10",value:u,onChange:function(e){d(e.target.value)},className:t.textField,margin:"normal"}),r.a.createElement(v.a,{onClick:x,variant:"contained",color:"primary",className:t.button},"Save"),r.a.createElement(v.a,{variant:"contained",color:"secondary",className:t.button},"Cancel"))},ne=a(71),re=Object(m.a)(function(e){return{root:{color:"rgb(50, 50, 50)"},title:{color:"rgba(196, 196, 196)"},link:{color:"inherit",textDecoration:"none"}}});var ce=function(e){var t=re(),a=Object(n.useState)(!0),c=Object(i.a)(a,2),o=c[0];return c[1],Object(n.useEffect)(function(){function e(){return(e=Object(g.a)(h.a.mark(function e(){return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[o]),r.a.createElement("div",{className:t.root},r.a.createElement(ne.a,{className:t.title,variant:"h5",gutterBottom:!0},"Ethics Net"),r.a.createElement(ne.a,{variant:"body1",gutterBottom:!0},"Welcome to Ethics Net, now you can start to anotate things on the web."),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:t.link,to:"/profile/anotations"},"Anotations")),r.a.createElement(v.a,{color:"primary",variant:"outlined"},r.a.createElement(l.b,{className:t.link,to:"/profile"},"Profile")))},oe=a(55),le=function(e){var t=e.component,a=e.restricted,n=Object(oe.a)(e,["component","restricted"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return"true"===localStorage.isLogged&&a?r.a.createElement(s.a,{to:"/profile"}):r.a.createElement(t,e)}}))},ie=function(e){var t=e.component,a=Object(oe.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return"true"===localStorage.getItem("isLogged")?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))},se=Object(m.a)(function(e){return{root:{minHeight:"calc(100vh - 128px)"},paper:{padding:e.spacing(3,2),maxWidth:"800px",margin:"20px auto"},loaderWrapper:{height:"calc(100vh - 98px)",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var me=function(){var e=se(),t=Object(n.useContext)(C),a=Object(i.a)(t,2),c=a[0];return a[1],c?r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement("div",{className:e.loaderWrapper},r.a.createElement(p.a,null)),r.a.createElement(L,null)):r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement(d.a,{className:e.root,maxWidth:"md"},r.a.createElement(u.a,{className:e.paper,elevation:2},r.a.createElement(s.d,null,r.a.createElement(ie,{exact:!0,path:"/",component:ce}),r.a.createElement(le,{exact:!0,path:"/register",restricted:!0,component:R}),r.a.createElement(le,{exact:!0,path:"/login",restricted:!0,component:z}),r.a.createElement(ie,{exact:!0,path:"/profile",component:J}),r.a.createElement(ie,{exact:!0,path:"/profile/anotations",component:Z}),r.a.createElement(ie,{exact:!0,path:"/profile/anotations/edit/:id",component:ae}),r.a.createElement(s.b,{component:ee})))),r.a.createElement(L,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,null,r.a.createElement(I,null,r.a.createElement(me,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[76,1,2]]]);
//# sourceMappingURL=main.cf818dd7.chunk.js.map