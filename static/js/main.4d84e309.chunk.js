(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,t,a){e.exports=a.p+"static/media/text3.6ff28d94.png"},101:function(e,t,a){e.exports=a.p+"static/media/image1.789090fc.png"},102:function(e,t,a){e.exports=a.p+"static/media/image2.47a2da96.png"},103:function(e,t,a){e.exports=a.p+"static/media/image3.40b62698.png"},104:function(e,t,a){e.exports=a.p+"static/media/video1.a78939ee.png"},105:function(e,t,a){e.exports=a.p+"static/media/video2.9cd0df78.png"},106:function(e,t,a){e.exports=a.p+"static/media/video3.e531ec32.png"},107:function(e,t,a){e.exports=a.p+"static/media/video4.707da6db.png"},118:function(e,t,a){e.exports=a(135)},123:function(e,t,a){},135:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(16),i=(a(123),a(5)),s=a(34),m=a(110),u=a(173),p=a(185),d=a(6),g=a.n(d),h=a(10),f=a(168),b=a(170),E=a(172),v=a(171),y=a(95),x=a.n(y),w=a(108),j=a(165),O=a(94),N=a.n(O),C=(a(125),Object(w.a)({palette:{primary:{main:"rgb(49, 54, 57)"},secondary:{main:"#11cb5f"}}})),k=Object(n.createContext)(localStorage.isLogged),S=Object(n.createContext)(!0),I=Object(n.createContext)("bla"),A=Object(n.createContext)(""),P=Object(n.createContext)({});var T=function(e){var t=e.children,a=Object(n.useState)(localStorage.isLogged),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(""),g=Object(i.a)(d,2),h=g[0],f=g[1],b=Object(n.useState)({}),E=Object(i.a)(b,2),v=E[0],y=E[1],x=r.a.createRef();return r.a.createElement(S.Provider,{value:[u,p]},r.a.createElement(k.Provider,{value:[c,l]},r.a.createElement(N.a,{ref:x}),r.a.createElement(I.Provider,{value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";x.current.addNotification({title:t,message:e,type:a,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3},dismissable:{click:!0}})}},r.a.createElement(A.Provider,{value:[h,f]},r.a.createElement(P.Provider,{value:[v,y]},r.a.createElement(j.a,{theme:C},t))))))},F=a(166),D=Object(F.a)(function(e){return{root:{flexGrow:1,marginBottom:"10px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#fff",textDecoration:"none"},link:{color:"#fff",textDecoration:"none"}}});var B=Object(s.g)(function(e){var t=D(),a=Object(n.useContext)(S),o=Object(i.a)(a,2),c=o[0],s=o[1];return Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),s(!1)},[c,s]),r.a.createElement("div",{className:t.root},r.a.createElement(f.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(v.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(x.a,null)),r.a.createElement(l.b,{color:"inherit",className:t.title,to:"/"},"Home"),"true"===localStorage.isLogged?r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/profile"},"Profile")),r.a.createElement(E.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/profile/annotations"},"Text annotations")),r.a.createElement(E.a,{color:"inherit",onClick:function(){e.history.push("/logged-out")}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(E.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/login"},"Log in")),r.a.createElement(E.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/register"},"Register"))))))}),R=Object(F.a)(function(e){return{footer:{border:"1px solid #000",textAlign:"center",width:"100%",bottom:"1px",color:"#fff",background:e.palette.primary.main,fontSize:13},p:{margin:"2px"}}});var W=function(){var e=R();return r.a.createElement("div",{className:e.footer},r.a.createElement("p",{className:e.p},"EthicsNet - 2019 developed by Emerson Lopes"))},L=a(78),M=Object(F.a)(function(e){return{root:{}}});var z,V=function(){var e=M();return r.a.createElement("div",{className:e.root},r.a.createElement(L.a,{variant:"h4",gutterBottom:!0},"About Us"),r.a.createElement(L.a,{variant:"body1",gutterBottom:!0},"EthicsNet is building a community, one with the purpose of experimenting with different potential techniques to create datasets \u2013 examples of nice behaviours (such as social norms), to help socialise A.I."),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"body1",gutterBottom:!0},"Machine intelligences will simply amplify and return whatever data we give them. Our goal is to advance the field of machine ethics, by seeding technology that makes it easy to teach machines about ones individual and cultural behavioral preferences."),r.a.createElement("br",null),r.a.createElement(L.a,{variant:"subtitle1",gutterBottom:!0},"Download the extension from the Chrome Web Store and start annotation text from the web right now!"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://chrome.google.com/webstore/detail/ethics-net/djamiamgnjcpjhkknjddilkaibbhmhgc"},"Ehtics Net extension"))},U=a(19),_=a(192);a(74);function q(){return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("iframe",{width:"100%",height:"100%",title:"privacy",src:"https://www.termsfeed.com/terms-conditions/729e707a3a2a572778819a2b17eeec2b",frameBorder:"0"}))}function H(){return r.a.createElement("div",{style:{height:"100vh"}},r.a.createElement("iframe",{width:"100%",height:"100%",title:"privacy",src:"https://www.termsfeed.com/privacy-policy/9966271a11492eb0ef2fd7776baaa38c",frameBorder:"0"}))}z="http://167.71.163.123";var G=Object(F.a)(function(e){return{link:{color:"inherit",textDecoration:"none"},button:{marginRight:"10px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});function J(e){var t=G();return r.a.createElement(E.a,{className:t.button,variant:e.variant,color:e.color},r.a.createElement(l.b,{className:t.link,to:e.to},e.name))}function Y(e){var t=G();return r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(u.a,null))}var $=Object(F.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},headline:{marginTop:20,padding:20,border:"1px solid #ddd"}}});function K(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Q=function(){var e=$(),t=Object(n.useContext)(I),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(0),m=Object(i.a)(s,2),u=m[0],p=m[1],d=r.a.useState({firstName:"",lastName:"",email:"",password:"",age:"",gender:""}),f=Object(i.a)(d,2),b=f[0],v=f[1],y=function(e){return function(t){v(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?K(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):K(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},b,Object(U.a)({},e,t.target.value)))}},x=function(){var e=Object(h.a)(g.a.mark(function e(a){var n,r,o,c,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),l(!0),n=b,e.prev=3,e.next=6,fetch("".concat(z,"/auth/register"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(n)});case 6:return r=e.sent,e.next=9,r.json();case 9:o=e.sent,console.log("===================================="),console.log("json response -> ",o),console.log("===================================="),400===r.status?t(o.error,"registration failed","danger"):200===r.status?(t("welcome to ethics net!"),c=o.token,i=o.user,localStorage.setItem("userId",i._id),localStorage.setItem("userName",i.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("lastclear",(new Date).getTime()),localStorage.setItem("token",c),window.location.reload()):t("there was an error","we could not register you","danger"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(3),console.error(e.t0),t("there was an error","we could not register you","danger");case 20:case"end":return e.stop()}},e,null,[[3,16]])}));return function(t){return e.apply(this,arguments)}}();function w(){p(u+1)}return c?r.a.createElement(Y,null):r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"EthicsNet - Sign up")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:x},r.a.createElement("div",null,r.a.createElement(_.a,{required:!0,className:e.textField,id:"first-name",label:"First Name",value:b.firstName,onChange:y("firstName"),margin:"normal"}),r.a.createElement(_.a,{required:!0,className:e.textField,id:"last-name",label:"Last Name",value:b.lastName,onChange:y("lastName"),margin:"normal"})),r.a.createElement("div",null,r.a.createElement(_.a,{required:!0,className:e.textField,id:"email",type:"email",label:"Email",value:b.email,onChange:y("email"),margin:"normal"}),r.a.createElement(_.a,{required:!0,className:e.textField,id:"password",type:"password",label:"Password",value:b.password,onChange:y("password"),margin:"normal"})),r.a.createElement("div",null,r.a.createElement(_.a,{className:e.textField,id:"gender",type:"text",label:"Gender",value:b.gender,onChange:y("gender"),margin:"normal"})),!u&&r.a.createElement(E.a,{className:e.submit,type:"button",onClick:w,variant:"contained",color:"primary"},"Next"),u>0&&r.a.createElement("div",{className:e.headline},"To create an EthicsNet Account, you\u2019ll need to agree to the"," ",r.a.createElement("a",{href:"https://www.termsfeed.com/terms-conditions/729e707a3a2a572778819a2b17eeec2b",target:"_blank",rel:"noopener noreferrer"},"Terms of Service")," ","below. In addition, when you create an account, we process your information as described in our"," ",r.a.createElement("a",{href:"https://www.termsfeed.com/privacy-policy/9966271a11492eb0ef2fd7776baaa38c",target:"_blank",rel:"noopener noreferrer"},"Privacy Policy"),"."),1===u&&r.a.createElement("div",null,r.a.createElement(q,null),r.a.createElement(E.a,{className:e.submit,type:"button",onClick:w,variant:"contained",color:"primary"},"Next")),2===u&&r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(E.a,{className:e.submit,style:{marginRight:10},type:"button",onClick:function(){p(u-1)},variant:"contained",color:"primary"},"Previous"),r.a.createElement(E.a,{className:e.submit,type:"submit",variant:"contained",color:"primary"},"I agree"))))},X=Object(F.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});function Z(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var ee=function(){var e=X(),t=Object(n.useContext)(I),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],s=r.a.useState({email:"",password:""}),m=Object(i.a)(s,2),u=m[0],p=m[1],d=function(e){return function(t){p(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Z(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Z(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},u,Object(U.a)({},e,t.target.value)))}},f=function(){var e=Object(h.a)(g.a.mark(function e(a){var n,r,o,c,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),n=u,a.preventDefault(),e.prev=3,e.next=6,fetch("".concat(z,"/auth/authenticate"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(n)});case 6:return r=e.sent,e.next=9,r.json();case 9:o=e.sent,400===r.status?t(o.error,"login failed","danger"):200===r.status?(t("welcome back!"),c=o.token,i=o.user,localStorage.setItem("userId",i._id),localStorage.setItem("userName",i.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("lastclear",(new Date).getTime()),localStorage.setItem("token",c),window.location.reload()):t("there was an error","we could not log you in","danger"),l(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.error(e.t0),l(!1);case 18:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement(Y,null):r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"EthicsNet - Login")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:f},r.a.createElement("div",null,r.a.createElement(_.a,{required:!0,className:e.textField,id:"email",label:"Email",type:"email",value:u.email,onChange:d("email"),margin:"normal"}),r.a.createElement(_.a,{required:!0,className:e.textField,type:"password",id:"password",label:"Password",value:u.password,onChange:d("password"),margin:"normal"})),r.a.createElement(E.a,{className:e.submit,type:"submit",variant:"contained",color:"primary"},"login")))},te=Object(F.a)(function(e){return{loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{textAlign:"center"},textField:{width:"410px",marginLeft:e.spacing(1),marginRight:e.spacing(1)},info:{marginTop:"20px"},buttonsWrapper:{marginTop:"20px"}}});function ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function ne(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ae(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ae(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var re=function(){var e=te(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)({})[1],s=Object(n.useState)({name:"",last:"",email:"",country:"",earnings:"",ethnicity:"",state:"",age:"",political:"",religious:"",gender:"",sexualOrientation:"",language:"",education:"",social:""}),m=Object(i.a)(s,2),p=m[0],d=m[1],f=function(e){return function(t){d(ne({},p,Object(U.a)({},e,t.target.value)))}};Object(n.useEffect)(function(){document.title="EthicsNet - Profile "},[]),Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o,i,s,m,u,h,f,b,E,v,y,x,w,j,O;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),console.log("===================================="),console.log("api url -> ",z),console.log("===================================="),e.next=6,fetch("".concat(z,"/api2/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 6:return a=e.sent,e.next=9,a.json();case 9:n=e.sent,console.log(n),200===a.status?(l(n.user),r=n.user,o=r.firstName,i=r.lastName,s=r.email,m=r.country,u=r.state,h=r.age,f=r.political,b=r.religious,E=r.gender,v=r.sexualOrientation,y=r.language,x=r.education,w=r.social,j=r.earnings,O=r.ethnicity,d(ne({},p,{name:o,last:i,email:s,country:m,state:u,age:h,political:f,religious:b,gender:E,sexualOrientation:v,language:y,education:x,social:w,earnings:j,ethnicity:O}))):404===a.status&&(localStorage.isLogged=null,window.location.reload()),c(!1);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[o]);var b=function(){var e=Object(h.a)(g.a.mark(function e(t){var a,n,r,o,l,i,s,m,u,d,h,f,b,E,v,y,x,w,j,O;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=p.name,n=p.last,r=p.email,o=p.country,l=p.state,i=p.age,s=p.political,m=p.religious,u=p.gender,d=p.sexualOrientation,h=p.language,f=p.education,b=p.social,E=p.earnings,v=p.ethnicity,y={firstName:a,lastName:n,email:r,country:o,state:l,age:i,political:s,religious:m,gender:u,sexualOrientation:d,language:h,education:f,social:b,earnings:E,ethnicity:v},x=localStorage,w=x.token,j=x.userId,e.next=6,fetch("".concat(z,"/api2/user/").concat(j),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(w)},body:JSON.stringify(y)});case 6:O=e.sent,console.log("===================================="),console.log(O),console.log("===================================="),c(!0);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function v(){return(v=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("are you sure you want to delete your account?")){e.next=10;break}return t=localStorage,a=t.token,n=t.userId,e.next=4,fetch("".concat(z,"/api2/user/").concat(n),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,console.log(r),console.log(o);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}return o?r.a.createElement("div",{className:e.loaderWrapper},r.a.createElement(u.a,null)):r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:e.header},"ETHICS ETH - MY PROFILE"),r.a.createElement("main",null,r.a.createElement("form",{onSubmit:b},r.a.createElement("div",null,r.a.createElement(_.a,{id:"first-name",label:"First name",className:e.textField,value:p.name,onChange:f("name"),margin:"normal",required:!0}),r.a.createElement(_.a,{id:"last-name",label:"Last name",className:e.textField,value:p.last,onChange:f("last"),margin:"normal",required:!0})),r.a.createElement("div",null,r.a.createElement(_.a,{style:{marginBottom:"20px"},id:"email",label:"Email",className:e.textField,value:p.email,onChange:f("email"),margin:"normal",type:"email",required:!0}),r.a.createElement(_.a,{id:"age",label:"Age",type:"number",className:e.textField,value:p.age,onChange:f("age"),margin:"normal",required:!0})),r.a.createElement("div",null,r.a.createElement(_.a,{className:e.textField,id:"gender",type:"text",label:"Gender",value:p.gender,onChange:f("gender"),margin:"normal"})),r.a.createElement("div",{className:e.buttonsWrapper},r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},type:"submit"},"Save"),r.a.createElement(E.a,{onClick:function(){return v.apply(this,arguments)},color:"secondary",type:"button",variant:"outlined"},"Delete account")))))},oe=a(183),ce=a(188),le=a(181),ie=a(179),se=a(180),me=a(178),ue=a(177),pe=r.a.forwardRef(function(e,t){return r.a.createElement(ue.a,Object.assign({direction:"up",ref:t},e))});function de(e){var t=Object(n.useContext)(I),a=e.open,o=e.handleClose,c=e.content,l=e.id,i=e.filterAnotations,s=e.elId;Object(n.useEffect)(function(){},[l,e.open]);var m=function(){var e=Object(h.a)(g.a.mark(function e(){var a,n,r,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=localStorage,n=a.token,e.next=4,fetch("".concat(z,"/api2/text/").concat(l),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,console.log("===================================="),console.log("deleting annotation ... "),console.log(r),console.log("===================================="),e.next=11,r.json();case 11:c=e.sent,console.log(c),200===r.status?(t("Annotation deleted!"),i(l),o()):t("There was a problem deleting the annotation","","danger"),e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.error(e.t0),t("There was a problem deleting the annotation","","danger");case 20:case"end":return e.stop()}},e,null,[[0,16]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(ce.a,{open:a&&s===l,TransitionComponent:pe,keepMounted:!0,onClose:o,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(me.a,{id:"alert-dialog-slide-title"},"Are you sure you want to detele this anotation?"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-slide-description"},'"',c,'"')),r.a.createElement(le.a,null,r.a.createElement(E.a,{onClick:o,color:"secondary"},"Cancel"),r.a.createElement(E.a,{onClick:m,color:"primary"},"Delete"))))}var ge=Object(F.a)(function(e){return{pagination:{display:"flex",alignItems:"center",justifyContent:"center"}}});var he=function(e){var t=e.setPage,a=e.setLoading,o=e.page,c=e.count,l=ge(),s=Object(n.useState)(1),m=Object(i.a)(s,2),u=m[0],p=m[1];return Object(n.useEffect)(function(){p(Math.ceil(c/5))},[c]),r.a.createElement("div",{className:l.pagination},1!==o&&r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},onClick:function(){t(1),a(!0)}},"First Page"),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},onClick:function(){o>1&&(t(o-1),a(!0))}},"Previous Page")),r.a.createElement("span",null,o," of ",u),o!==u&&r.a.createElement(n.Fragment,null,r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginLeft:"10px"},onClick:function(){5*o<c&&(t(o+1),a(!0))}},"Next Page"),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginLeft:"10px"},onClick:function(){t(u),a(!0)}},"Last Page")))},fe=Object(F.a)(function(e){return{paper:{padding:e.spacing(3,2),margin:"20px 20px","&:hover":{boxShadow:"0px 0px 5px 2px rgba(0,0,0,0.4)",cursor:"pointer"}},title:{textAlign:"center"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},categoryWrapper:{marginBottom:10},category:{background:"#282828",color:"#fff",padding:"4px",borderRadius:"5px",fontSize:"13px"},date:{fontSize:"12px"},font:{fontSize:"11px"},pagination:{display:"flex",alignItems:"center",justifyContent:"center"},bar:{margin:"20px auto",width:"625px"},hr:{backgroundColor:"#aaa",margin:"0 0 20px 0"},rangeMargin:{flexGrow:1,flexBasis:0},marksWrapper:{display:"flex",justifyContent:"center"},marks:{display:"flex",width:"100%"},content:{backgroundColor:"#eee",padding:"20px 10px",borderRadius:5},iconWrapper:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",flexDirection:"column-reverse"}}}),be=a(182),Ee=a(58),ve=a.n(Ee),ye=a(59),xe=a.n(ye),we=a(60),je=a.n(we),Oe=a(61),Ne=a.n(Oe),Ce=a(62),ke=a.n(Ce),Se=Object(F.a)(function(e){return{paper:{padding:e.spacing(3,2),margin:"20px 20px","&:hover":{boxShadow:"0px 0px 5px 2px rgba(0,0,0,0.4)",cursor:"pointer"}},title:{textAlign:"center"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},category:{background:"#282828",color:"#fff",padding:"4px",borderRadius:"5px",fontSize:"13px"},date:{fontSize:"12px"},font:{fontSize:"11px"},pagination:{display:"flex",alignItems:"center",justifyContent:"center"},bar:{margin:"20px auto",width:"625px"},hr:{backgroundColor:"#aaa",margin:"0 0 20px 0"},rangeMargin:{flexGrow:1,flexBasis:0},marksWrapper:{display:"flex",justifyContent:"center"},marks:{display:"flex",width:"100%"},content:{backgroundColor:"#eee",padding:20,borderRadius:5},iconWrapper:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",flexDirection:"column-reverse"}}});var Ie=function(e){var t=e.categoryRangeContentAction,a=e.title,n=Se();return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,a),r.a.createElement("div",{className:n.marksWrapper},r.a.createElement("div",{className:n.marks},r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Very dispreferable"),r.a.createElement(ve.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Not ok"),r.a.createElement(xe.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Neutral"),r.a.createElement(je.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Ok"),r.a.createElement(Ne.a,null))),r.a.createElement("span",{className:n.rangeMargin},r.a.createElement("div",{className:n.iconWrapper},r.a.createElement("span",null,"Very preferable"),r.a.createElement(ke.a,null))))),r.a.createElement(be.a,{className:n.bar,variant:"determinate",color:"primary",value:t}))};var Ae=function(e){var t=fe(),a=Object(n.useState)([]),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),p=m[0],d=m[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),v=b[0],y=b[1],x=Object(n.useState)(""),w=Object(i.a)(x,2),j=w[0],O=w[1],N=Object(n.useState)(1),C=Object(i.a)(N,2),k=C[0],S=C[1],I=Object(n.useState)(0),A=Object(i.a)(I,2),P=A[0],T=A[1];function F(e){l(c.filter(function(t){return t._id!==e}))}function D(){y(!1)}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(z,"/api2/text/page/").concat(k),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log("annoatations -> ",n),l(n.anotations),T(n.count),d(!1);case 11:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[k]);var B=function(t,a){"edit"===a?e.history.push("/profile/annotations/edit/".concat(t)):"delete"===a&&(O(t),y(!0))},R=c.map(function(e){return r.a.createElement(oe.a,{className:t.paper,key:e._id},r.a.createElement(de,{content:e.content,open:v,handleClose:D,id:j,elId:e._id,filterAnotations:F}),r.a.createElement("p",null,"Annotation: "),r.a.createElement("p",{className:t.content},e.content),r.a.createElement("hr",{className:t.hr}),e.category?r.a.createElement("div",{className:t.categoryWrapper},r.a.createElement("span",{className:t.category},e.category),r.a.createElement("br",null)):r.a.createElement("div",null,r.a.createElement(Ie,{title:"Content/Action",categoryRangeContentAction:e.categoryRangeContentAction}),r.a.createElement(Ie,{title:"Tone/Form",categoryRangeContentAction:e.categoryRangeToneForm}),r.a.createElement("hr",{className:t.hr})),"none"===e.font||""===e.font?null:r.a.createElement("small",{className:t.font},"Annotated from:"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.font},e.font)),r.a.createElement("p",{className:t.date},e.createdAt.substring(0,10)," "),r.a.createElement("div",null,r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},onClick:function(){return B(e._id,"edit")}},"Edit"),r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){return B(e._id,"delete")}},"Delete")))});return p?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(u.a,null)):c.length?r.a.createElement("div",null,r.a.createElement("h3",{className:t.title},"Annotations"),r.a.createElement("div",null,R),r.a.createElement(he,{setPage:S,setLoading:d,count:P,page:k})):r.a.createElement("div",null,r.a.createElement("div",{style:{textAlign:"center"}},"you haven't annotated any text yet..."),r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){return B(e.history.push("/how-to-use"))}},"How to use"))};var Pe=function(){return r.a.createElement("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"30px",textAlign:"center"}},"404 ",r.a.createElement("br",null)," not found")},Te=a(176),Fe=a(193),De=a(186),Be=a(189),Re=Object(F.a)(function(e){return{paper:{background:"red","@media (min-width:600px)":{}},textField:{width:"100%"},link:{color:"inherit",textDecoration:"none"},button:{marginRight:"10px"},formControl:{width:"100%",marginBottom:"20px"}}});var We=function(e){var t=Re(),a=Object(n.useState)({}),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(0),f=Object(i.a)(d,2),b=f[0],v=f[1],y=Object(n.useState)(!0),x=Object(i.a)(y,2),w=x[0],j=x[1],O=Object(n.useContext)(I);Object(n.useEffect)(function(){function t(){return(t=Object(h.a)(g.a.mark(function t(){var a,n,r,o,c;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match.params.id,n=localStorage,r=n.token,t.next=4,fetch("".concat(z,"/api2/text/").concat(a),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:return o=t.sent,t.next=7,o.json();case 7:c=t.sent,l(c.anotation),p(c.anotation.content),v({"morally preferable":0,"morally unpreferable":1,"aesthetically preferable":2,"aesthetically unpreferable":3,"not unethical, but strange":4}[c.anotation.category]),j(!1);case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[w]);var N=function(){var t=Object(h.a)(g.a.mark(function t(){var a,n,r,o,c,l;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),a=e.match.params.id,n=localStorage,r=n.token,o={0:"morally preferable",1:"morally unpreferable",2:"aesthetically preferable",3:"aesthetically unpreferable",4:"not unethical, but strange"},t.next=6,fetch("".concat(z,"/api2/text/").concat(a),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({content:u,category:o[b]})});case 6:return c=t.sent,t.next=9,c.json();case 9:l=t.sent,200===c.status?O("annotation saved!"):O(l.error,"there was an error","danger");case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return w?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("p",null,c.createdAt.substring(0,10)),r.a.createElement(_.a,{id:"standard-multiline-flexible",label:"edit anotation",multiline:!0,rowsMax:"30",value:u,onChange:function(e){p(e.target.value)},className:t.textField,margin:"normal"}),r.a.createElement(Te.a,{className:t.formControl},r.a.createElement(Fe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(De.a,{value:b,onChange:function(e){return v(e.target.value)},inputProps:{name:"category",id:"category-simple"}},r.a.createElement(Be.a,{selected:!0,value:0},"Morally preferable"),r.a.createElement(Be.a,{value:1},"Morally unpreferable"),r.a.createElement(Be.a,{value:2},"Aesthetically preferable"),r.a.createElement(Be.a,{value:3},"Aesthetically unpreferable"),r.a.createElement(Be.a,{value:4},"Not unethical, but strange"))),r.a.createElement(E.a,{onClick:N,variant:"outlined",color:"primary",className:t.button},"Save"),r.a.createElement(J,{variant:"outlined",color:"secondary",to:"/profile/annotations",name:"cancel"}))},Le=Object(F.a)(function(){return{root:{color:"rgb(50, 50, 50)"},title:{color:"rgba(196, 196, 196)"},link:{color:"inherit",textDecoration:"none"}}});var Me=function(){var e=Le();return Object(n.useEffect)(function(){document.title="EthicsNet - Home "},[]),r.a.createElement("div",{className:e.root},r.a.createElement(L.a,{className:e.title,variant:"h5",gutterBottom:!0},"EthicsNet"),r.a.createElement(L.a,{variant:"body1",gutterBottom:!0},"Welcome to EthicsNet, now you can start to anotate things on the web."),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/profile/annotations"},"Texts")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/user/images"},"Images")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/user/videos"},"Videos")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/annotations/new"},"Insert new text annotation")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/profile"},"Profile")),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/how-to-use"},"How to use it")))},ze=Object(F.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},loggedOut:{padding:"20px"},title:{textAlign:"center"}}});var Ve=function(e){var t=ze(),a=Object(n.useContext)(k)[1];return"true"===localStorage.isLogged?r.a.createElement("div",null,r.a.createElement("h1",null,"are you sure you want to log out?"),r.a.createElement(E.a,{style:{marginRight:"10px"},color:"primary",variant:"outlined",onClick:function(){localStorage.isLogged=null,a(!1),window.location.reload()}},"Yes, log out"),r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){e.history.push("/")}},"No, keep logged in")):r.a.createElement("div",{className:t.loggedOut},r.a.createElement("h2",{className:t.title},"EthicsNet"))},Ue=Object(F.a)(function(e){return{paper:{background:"red"},textField:{width:"100%"},link:{color:"inherit",textDecoration:"none"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},formControl:{width:"100%",marginBottom:"20px"}}}),_e=a(190),qe=Object(F.a)(function(e){return{root:{width:"100%",minWidth:"864px",display:"flex",alignItems:"center",justifyContent:"center",padding:"20px 0",marginBottom:20},wrapper:{width:"90%"},rangeMargin:{display:"flex",alignItems:"center",flexGrow:1,flexBasis:0,textAlign:"center",justifyContent:"center"},marksWrapper:{display:"flex",justifyContent:"center"},marks:{display:"flex",width:"100%"},rangeWidth:{display:"flex",justifyContent:"center"},slider:{width:"625px",marginTop:10},hr:{backgroundColor:"#aaa",margin:"10px 0 20px 0"},iconWrapper:{display:"flex",alignItems:"center",textAlign:"center",justifyContent:"center",flexDirection:"column-reverse"}}});function He(e){var t=e.range,a=e.setValue,n=e.name,o=qe();console.log("===================================="),console.log("range -> ",t),console.log("====================================");return r.a.createElement(m.a,{className:o.root},r.a.createElement("div",{className:o.wrapper},r.a.createElement(L.a,{gutterBottom:!0},n),r.a.createElement("hr",{className:o.hr}),r.a.createElement("div",{className:o.marksWrapper},r.a.createElement("div",{className:o.marks},r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Very dispreferable"),r.a.createElement(ve.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Not ok"),r.a.createElement(xe.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Neutral"),r.a.createElement(je.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Ok"),r.a.createElement(Ne.a,null))),r.a.createElement("span",{className:o.rangeMargin},r.a.createElement("div",{className:o.iconWrapper},r.a.createElement("span",null,"Very preferable"),r.a.createElement(ke.a,null))))),r.a.createElement("div",{className:o.rangeWidth},r.a.createElement(_e.a,{className:o.slider,"aria-label":"tone/form",defaultValue:t,onChange:function(e,t){console.log("handle change -> ",t),a(t)}})),r.a.createElement("div",{className:o.margin})))}var Ge=function(e){var t=Ue(),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],s=o[1],m=Object(n.useState)(""),u=Object(i.a)(m,2),p=u[0],d=u[1],f=Object(n.useContext)(I),b=Object(n.useState)(50),v=Object(i.a)(b,2),y=v[0],x=v[1],w=Object(n.useState)(50),j=Object(i.a)(w,2),O=j[0],N=j[1];Object(n.useEffect)(function(){console.log("contentAction ->",y),console.log("toneForm ->",O)},[y,O]);var C=function(){var t=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,l,i;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s(!0),n=localStorage,r=n.token,o=n.userId,c={categoryRangeContentAction:y,categoryRangeToneForm:O,content:p,authorId:o},t.prev=4,t.next=7,fetch("".concat(z,"/api2/text"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(c)});case 7:if(200!==(l=t.sent).status){t.next=17;break}return t.next=11,l.json();case 11:i=t.sent,console.log(i),f("annotation created!"),e.history.push("/profile/annotations"),t.next=18;break;case 17:console.error("error while fetching data!");case 18:t.next=23;break;case 20:t.prev=20,t.t0=t.catch(4),console.error("there was an error ->",t.t0);case 23:case"end":return t.stop()}},t,null,[[4,20]])}));return function(e){return t.apply(this,arguments)}}();return c?r.a.createElement(Y,null):r.a.createElement("div",{className:t.root},r.a.createElement(L.a,{variant:"h6",gutterBottom:!0},"Create a new annotation"),r.a.createElement("form",{onSubmit:C},r.a.createElement(_.a,{id:"standard-name",label:"Annotation",className:t.textField,value:p,onChange:function(e){d(e.target.value)},margin:"normal",required:!0,multiline:!0,rows:"5"}),r.a.createElement(He,{range:y,setValue:x,name:"Content/Action"}),r.a.createElement(He,{range:O,setValue:N,name:"Tone/Form"}),r.a.createElement(E.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},type:"submit"},"Save"),r.a.createElement(E.a,{color:"secondary",type:"button",variant:"outlined"},r.a.createElement(l.b,{className:t.link,to:"/"},"Cancel"))))},Je=a(63),Ye=a(64),$e=a(67),Ke=a(65),Qe=a(68),Xe=a(66),Ze=a.n(Xe),et=(a(92),function(e){function t(){var e,a;Object(Je.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object($e.a)(this,(e=Object(Ke.a)(t)).call.apply(e,[this].concat(o)))).state={showBtn:"none",loading:!0,src:"",croppedImageUrl:"",imageFont:"",crop:{unit:"%",width:30}},a.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){return a.setState({src:t.result})}),t.readAsDataURL(e.target.files[0])}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){a.makeClientCrop(e)},a.onCropChange=function(e,t){a.setState({crop:e})},a.saveCroppedScreenshot=function(){localStorage.img=a.state.croppedImageUrl,localStorage.imageFont=a.state.imageFont,a.props.history.push("./save")},a.renderSelectionAddon=function(){return r.a.createElement(E.a,{color:"primary",type:"button",variant:"contained",style:{position:"absolute",bottom:-45,right:0},onClick:a.saveCroppedScreenshot},"Save Image")},a}return Object(Qe.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){var e=this;(function(){var t=Object(h.a)(g.a.mark(function t(){var a,n,r,o;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage,n=a.token,t.next=4,fetch("".concat(z,"/api/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=t.sent,t.next=7,r.json();case 7:o=t.sent,200===r.status&&e.setState({src:o.user.cachedImg,imageFont:o.user.imageFont,loading:!1}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("there was an error -> ",t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(){return t.apply(this,arguments)}})()()}},{key:"makeClientCrop",value:function(){var e=Object(h.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:a=e.sent,this.setState({croppedImageUrl:a,showBtn:"block"});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var n=document.createElement("canvas"),r=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*r,t.y*o,t.width*r,t.height*o,0,0,t.width,t.height),n.toDataURL("image/jpeg")}},{key:"render",value:function(){var e=this.state,t=e.crop,a=e.croppedImageUrl,n=e.src;return this.state.loading?r.a.createElement(Y,null):r.a.createElement("div",{style:{position:"absolute",width:"100%",left:"0",top:"82px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"If the image hasn't loaded or if it's an old image, plese reload the page in a few seconds"),n&&r.a.createElement(Ze.a,{src:n,crop:t,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,renderSelectionAddon:this.renderSelectionAddon}),a&&r.a.createElement("img",{alt:"Crop",style:{width:"auto"},src:a}))}}]),t}(n.PureComponent));var tt=function(){var e=Object(n.useState)("lopes"),t=Object(i.a)(e,2),a=t[0],o=t[1];return Object(n.useEffect)(function(){console.log("===================================="),console.log("screenshot component"),console.log("====================================")},[]),r.a.createElement("div",null,r.a.createElement("h1",{style:{textAlign:"center"}},"Screenshot component"),r.a.createElement("button",{onClick:function(){return o("emerson")}},a))},at=Object(F.a)(function(e){return{img:{},textField:{width:"100%"},typography:{textAlign:"center"},submit:{marginTop:20},imgWrapper:{display:"flex",justifyContent:"center",alginItems:"center"}}});function nt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var rt=function(e){var t=at(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],p=m[1],d=Object(n.useContext)(I),f=Object(n.useState)({title:"",description:"",category:""}),b=Object(i.a)(f,2),v=b[0],y=b[1],x=function(e){return function(t){y(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?nt(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):nt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},v,Object(U.a)({},e,t.target.value)))}};function w(){return(w=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,i,s,m,p,h,f;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),a.preventDefault(),n=v.title,r=v.description,o=v.category,c=localStorage,i=c.token,s=c.userId,m=c.imageFont,p={title:n,description:r,category:o,image:u,imageFont:m,authorId:s},t.prev=5,t.next=8,fetch("".concat(z,"/api/image"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(p)});case 8:return h=t.sent,t.next=11,h.json();case 11:f=t.sent,200===h.status?d("Image saved"):d("there was a problem saving the image"),console.log(f),e.history.push("/user/images"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),console.error(t.t0);case 20:case"end":return t.stop()}},t,null,[[5,17]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){p(localStorage.img),l(!1)},[]),c?r.a.createElement(Y,null):r.a.createElement("div",{className:t.root},r.a.createElement(L.a,{className:t.typography,variant:"h5",gutterBottom:!0},"Save Image"),r.a.createElement("div",{className:t.imgWrapper},r.a.createElement("img",{className:t.img,src:u,alt:""})),r.a.createElement("form",{onSubmit:function(e){return w.apply(this,arguments)},className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(_.a,{id:"title",label:"Title",className:t.textField,value:v.title,onChange:x("title"),margin:"normal"}),r.a.createElement(_.a,{id:"description",label:"Description",multiline:!0,rows:"4",className:t.textField,value:v.description,onChange:x("description"),margin:"normal"}),r.a.createElement(Te.a,{className:t.textField},r.a.createElement(Fe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(De.a,{value:v.category,onChange:x("category"),inputProps:{name:"category",id:"category-simple"}},r.a.createElement(Be.a,{selected:!0,value:"morally preferable"},"Morally preferable"),r.a.createElement(Be.a,{value:"morally unpreferable"},"Morally unpreferable"),r.a.createElement(Be.a,{value:"aesthetically preferable"},"Aesthetically preferable"),r.a.createElement(Be.a,{value:"aesthetically unpreferable"},"Aesthetically unpreferable"),r.a.createElement(Be.a,{value:"not unethical, but strange"},"Not unethical, but strange"))),r.a.createElement(E.a,{className:t.submit,type:"submit",variant:"outlined"},"Save")))},ot=Object(F.a)(function(){return{image:{marginBottom:"30px",border:"1px solid #ddd",padding:"10px",borderRadius:"5px"},title:{textAlign:"center"},description:{},font:{fontSize:"10px"},img:{},hr:{backgroundColor:"#ddd"},category:{backgroundColor:"#000",color:"#fff",padding:3,borderRadius:4},imgWrapper:{display:"flex",justifyContent:"center",alignItems:"center"},pagination:{display:"flex",alignItems:"center",justifyContent:"center"},buttons:{display:"flex"},formControl:{margin:"15px 0"},editImage:{width:"99%",alignSelf:"center"}}}),ct=r.a.forwardRef(function(e,t){return r.a.createElement(ue.a,Object.assign({direction:"up",ref:t},e))});function lt(e){var t=e.title,a=e.id,n=e.image,o=e.deleteImage,c=r.a.useState(!1),l=Object(i.a)(c,2),s=l[0],m=l[1],u=function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:m(!1),o(a);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),p=function(){m(!1)};return r.a.useEffect(function(){console.log(t,a)},[t,a]),r.a.createElement("div",null,r.a.createElement(E.a,{color:"secondary",variant:"outlined",onClick:function(){m(!0)}},"Delete"),r.a.createElement(ce.a,{open:s,TransitionComponent:ct,keepMounted:!0,onClose:p,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description",style:{textAlign:"center"}},r.a.createElement(me.a,{id:"alert-dialog-slide-title"},"Are you sure you want to delete this image?"),r.a.createElement(ie.a,null,r.a.createElement(se.a,{id:"alert-dialog-slide-description"},t),r.a.createElement("img",{src:n,alt:t,style:{width:"90%"}})),r.a.createElement(le.a,null,r.a.createElement(E.a,{variant:"outlined",onClick:p,color:"default"},"Cancel"),r.a.createElement(E.a,{variant:"outlined",onClick:u,color:"secondary"},"Delete"))))}function it(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var st=r.a.forwardRef(function(e,t){return r.a.createElement(ue.a,Object.assign({direction:"up",ref:t},e))});function mt(e){var t=e.title,a=e.id,o=e.image,c=e.editImage,l=e.description,s=e.category,m=ot(),u=r.a.useState(!1),p=Object(i.a)(u,2),d=p[0],f=p[1],b=Object(n.useState)({title:t,category:s,description:l}),v=Object(i.a)(b,2),y=v[0],x=v[1],w=function(e){return function(t){x(function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?it(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):it(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},y,Object(U.a)({},e,t.target.value)))}},j=function(){var e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:f(!1),c(a,y);case 2:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O=function(){f(!1)};return r.a.useEffect(function(){console.log(t,a)},[t,a]),r.a.createElement("div",null,r.a.createElement(E.a,{style:{marginLeft:10},color:"primary",variant:"outlined",onClick:function(){f(!0)}},"Edit"),r.a.createElement(ce.a,{open:d,TransitionComponent:st,keepMounted:!0,onClose:O,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(me.a,{id:"alert-dialog-slide-title"},"Edit Image"),r.a.createElement(ie.a,{style:{display:"flex",flexDirection:"column"}},r.a.createElement(_.a,{id:"image-title",label:"Image title",value:y.title,onChange:w("title"),margin:"normal",required:!0}),r.a.createElement(_.a,{id:"image-description",label:"Image description",multiline:!0,rows:"4",value:y.description,onChange:w("description"),margin:"normal",required:!0}),r.a.createElement(Te.a,{className:m.formControl},r.a.createElement(Fe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(De.a,{required:!0,value:y.category,onChange:w("category"),inputProps:{name:"category",id:"category-simple"}},r.a.createElement(Be.a,{selected:!0,value:"morally preferable"},"Morally preferable"),r.a.createElement(Be.a,{value:"morally unpreferable"},"Morally unpreferable"),r.a.createElement(Be.a,{value:"aesthetically preferable"},"Aesthetically preferable"),r.a.createElement(Be.a,{value:"aesthetically unpreferable"},"Aesthetically unpreferable"),r.a.createElement(Be.a,{value:"not unethical, but strange"},"Not unethical, but strange"))),r.a.createElement("img",{src:o,alt:t,className:m.editImage})),r.a.createElement(le.a,null,r.a.createElement(E.a,{variant:"outlined",onClick:O,color:"default"},"Cancel"),r.a.createElement(E.a,{variant:"outlined",onClick:j,color:"secondary"},"Save"))))}var ut=function(e){var t=e.el,a=e.deleteImage,n=e.editImage,o=ot(),c=t._id,l=t.title,i=t.image,s=t.imageFont,m=t.category,u=t.description;return r.a.createElement("div",{className:o.image},r.a.createElement("p",{className:o.title},l),r.a.createElement("hr",{className:o.hr}),r.a.createElement("div",{className:o.imgWrapper},r.a.createElement("img",{className:o.img,src:i,alt:""})),r.a.createElement("hr",{className:o.hr}),r.a.createElement("p",{className:o.font},"Font: ",r.a.createElement("a",{href:s},s)),r.a.createElement("p",null,r.a.createElement("span",{className:o.category},m)),r.a.createElement("p",{className:o.description},u),r.a.createElement("div",{className:o.buttons},r.a.createElement(lt,{title:l,id:c,image:i,deleteImage:a}),r.a.createElement(mt,{title:l,id:c,image:i,editImage:n,category:m,description:u})))};var pt=function(){var e=ot(),t=Object(n.useContext)(I),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)([]),m=Object(i.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(1),f=Object(i.a)(d,2),b=f[0],E=f[1],v=Object(n.useState)(0),y=Object(i.a)(v,2),x=y[0],w=y[1];function j(e){return O.apply(this,arguments)}function O(){return(O=Object(h.a)(g.a.mark(function e(a){var n,r,o,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,n=localStorage,r=n.token,e.next=5,fetch("".concat(z,"/api2/image/").concat(a),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 5:return o=e.sent,e.next=8,o.json();case 8:c=e.sent,console.log(c),200===o.status?(t("Image annotation deleted!"),p(u.filter(function(e){return e._id!==a}))):t("There was a problem deleting the image annotation","","danger"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),t("There was a problem deleting the image annotation","","danger");case 17:return e.prev=17,l(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,13,17,20]])}))).apply(this,arguments)}function N(e,t){return C.apply(this,arguments)}function C(){return(C=Object(h.a)(g.a.mark(function e(a,n){var r,o,c,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,r=localStorage,o=r.token,e.next=5,fetch("".concat(z,"/api2/image/").concat(a),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(o)},body:JSON.stringify(n)});case 5:return c=e.sent,e.next=8,c.json();case 8:i=e.sent,console.log(i),200===c.status?t("Image annotation updated!"):t("There was a problem editing the image annotation","","danger"),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.error(e.t0),t("There was a problem editing the image annotation","","danger");case 17:return e.prev=17,l(!1),e.finish(17);case 20:case"end":return e.stop()}},e,null,[[1,13,17,20]])}))).apply(this,arguments)}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(z,"/api2/image/page/").concat(b),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,p(n.images),w(n.count),l(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[b,c]);var k=u.map(function(e){return r.a.createElement(ut,{key:e._id,el:e,deleteImage:j,editImage:N})});return c?r.a.createElement(Y,null):u.length?r.a.createElement("div",null,r.a.createElement("h3",{className:e.title},"All images"),k,r.a.createElement(he,{setPage:E,setLoading:l,count:x,page:b})):r.a.createElement("div",{style:{textAlign:"center"}},"you haven't annotated any image yet...")},dt=Object(F.a)(function(){return{image:{marginBottom:"30px",border:"1px solid #ddd",padding:"10px",borderRadius:"5px"},title:{textAlign:"center"},description:{},font:{fontSize:"10px"},img:{width:"100%"},hr:{backgroundColor:"#ddd"}}});var gt=function(){var e=dt(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),m=s[0],u=s[1];Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(z,"/api/user/images/all"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,u(n.images),c(!1);case 9:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var p=m.map(function(t){return r.a.createElement("div",{key:t._id,className:e.image},r.a.createElement("p",{className:e.title},t.title),r.a.createElement("hr",{className:e.hr}),r.a.createElement("img",{className:e.img,src:t.image,alt:""}),r.a.createElement("hr",{className:e.hr}),r.a.createElement("p",{className:e.font},"Font: ",r.a.createElement("a",{href:t.imageFont},t.imageFont)),r.a.createElement("p",{className:e.description},t.description))});return o?r.a.createElement(Y,null):r.a.createElement("div",null,r.a.createElement("h3",{className:e.title},"All images"),p)},ht=a(97),ft=Object(F.a)(function(e){return{paper:{background:"red"},title:{textAlign:"center"},hr:{backgroundColor:"#ddd",margin:"50px 0"},category:{backgroundColor:"#000",color:"#fff",padding:3,borderRadius:4},pagination:{display:"flex",alignItems:"center",justifyContent:"center"}}});var bt=function(e){var t=e.el,a=e.youtube_parser,n=ft(),o=t._id,c=t.title,l=t.videoUrl,i=t.category,s=t.videoStart,m=t.videoEnd,u=t.description,p=t.selectedPerson;return r.a.createElement("div",{key:o},r.a.createElement("iframe",{title:o,src:"https://www.youtube.com/embed/"+a(l)+"?start=11&end=1&autoplay=1",width:"100%",height:"500px",frameBorder:"0",allowFullScreen:!0}),r.a.createElement("h3",null,c),r.a.createElement("p",null,r.a.createElement("span",{className:n.category},i)),r.a.createElement("p",null,"Person doing the action: "),r.a.createElement("img",{src:p,alt:"",srcSet:""}),r.a.createElement("p",null,"Url:"," ",r.a.createElement("a",{href:l,target:"_blank",rel:"noopener noreferrer"},l)),r.a.createElement("p",null,"Start: ",s," "),r.a.createElement("p",null,"End: ",m),r.a.createElement("p",null,"Description: ",u||"no description provided"),r.a.createElement("hr",{className:n.hr}))};var Et=function(e){var t=ft(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)([]),m=Object(i.a)(s,2),u=m[0],p=m[1],d=Object(n.useState)(1),f=Object(i.a)(d,2),b=f[0],E=f[1],v=Object(n.useState)(0),y=Object(i.a)(v,2),x=y[0],w=y[1];function j(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(z,"/api/user/videos/").concat(b),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,p(n.videos),w(n.count),console.log("===================================="),console.log(n.videos),console.log("===================================="),l(!1);case 13:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[b]);var O=u.map(function(e){return r.a.createElement(bt,{key:e._id,youtube_parser:j,el:e})});return c?r.a.createElement(Y,null):u.length?r.a.createElement("div",{className:t.root},r.a.createElement(ht.Helmet,null,r.a.createElement("title",null,"EthicsNet - Videos - ".concat(b))),r.a.createElement("h3",{className:t.title},"All videos"),O,r.a.createElement(he,{setPage:E,setLoading:l,count:x,page:b})):r.a.createElement("div",{style:{textAlign:"center"}},"you haven't annotated any video yet...")},vt=Object(F.a)(function(e){return{paper:{background:"red"},title:{textAlign:"center"},hr:{backgroundColor:"#ddd",margin:"50px 0"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},time:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"48%"},button:{marginTop:25}}});function yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function xt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?yt(a,!0).forEach(function(t){Object(U.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):yt(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var wt=function(e){var t=vt(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],p=m[1],d=r.a.useState({title:"",description:"",start:"00:05",end:"01:00",category:"morally preferable"}),f=Object(i.a)(d,2),b=f[0],v=f[1],y=Object(n.useContext)(P),x=Object(i.a)(y,2),w=x[0],j=x[1],O=function(e){return function(t){v(xt({},b,Object(U.a)({},e,t.target.value)))}},N=function(){var e=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage,a=t.token,e.next=4,fetch("".concat(z,"/api2/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,200===n.status&&(o=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]},c="https://www.youtube.com/embed/"+o(r.user.cachedVideo),p(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.error("there was an error -> ",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();function C(){return(C=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,i,s,m,p,d,h,f,E;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),j(xt({},b,{videoUrl:u})),l(!0),n=b.title,r=b.description,o=b.category,c=b.start,i=b.end,s=localStorage,m=s.token,p=s.userId,d={category:o,title:n,description:r,videoUrl:u,videoStart:c,videoEnd:i,authorId:p},t.prev=6,t.next=9,fetch("".concat(z,"/api/video"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(d)});case 9:return h=t.sent,t.next=12,h.json();case 12:f=t.sent,console.log("===================================="),console.log("Video saved -> ",f.videoCreated._id),E=f.videoCreated._id,localStorage.selectVideoId=E,e.history.push("/save-video-action"),t.next=23;break;case 20:t.prev=20,t.t0=t.catch(6),console.error(t.t0);case 23:case"end":return t.stop()}},t,null,[[6,20]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){N(),l(!1)},[]),Object(n.useEffect)(function(){console.log("state has changed!"),console.log("===================================="),console.log(w),console.log("====================================")},[w]),c?r.a.createElement(Y,null):r.a.createElement("div",{className:t.root},r.a.createElement("h3",{className:t.title},"Save video"),r.a.createElement("iframe",{title:u,src:u,frameBorder:"0",width:"100%",height:"500px",allowFullScreen:!0}),r.a.createElement("form",{className:t.container,onSubmit:function(e){return C.apply(this,arguments)},autoComplete:"off"},r.a.createElement(_.a,{id:"standard-name",label:"Video title",className:t.textField,value:b.title,onChange:O("title"),margin:"normal",required:!0}),r.a.createElement(_.a,{id:"time",label:"Video start",type:"time",value:b.start,onChange:O("start"),className:t.time,required:!0}),r.a.createElement(_.a,{id:"time",label:"Video end",type:"time",value:b.end,onChange:O("end"),className:t.time,required:!0}),r.a.createElement(_.a,{id:"standard-multiline-static",label:"Video description",multiline:!0,rows:"4",value:b.description,className:t.textField,onChange:O("description"),margin:"normal",required:!0}),r.a.createElement(Te.a,{className:t.textField},r.a.createElement(Fe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(De.a,{required:!0,value:b.category,onChange:O("category"),inputProps:{name:"category",id:"category-simple"}},r.a.createElement(Be.a,{selected:!0,value:"morally preferable"},"Morally preferable"),r.a.createElement(Be.a,{value:"morally unpreferable"},"Morally unpreferable"),r.a.createElement(Be.a,{value:"aesthetically preferable"},"Aesthetically preferable"),r.a.createElement(Be.a,{value:"aesthetically unpreferable"},"Aesthetically unpreferable"),r.a.createElement(Be.a,{value:"not unethical, but strange"},"Not unethical, but strange"))),r.a.createElement(E.a,{type:"submit",color:"primary",variant:"outlined",className:t.button},"Save Video")))},jt=a(184),Ot=Object(F.a)(function(e){return{title:{textAlign:"center",marginTop:10},subtitle:{marginTop:20,color:"#999"},steps:{marginTop:20,color:e.palette.primary.dark},numbers:{fontSize:16,color:e.palette.primary.dark},link:{color:"#1a0dab"},stepsImage:{width:"100%",marginTop:10,marginBottom:50},stepsComponent:{marginTop:20},hr:{backgroundColor:"#ddd",margin:"30px 0px"}}});function Nt(e){var t=Ot(),a=e.title,o=e.subtitle;return r.a.createElement(n.Fragment,null,r.a.createElement("hr",{className:t.hr}),r.a.createElement(L.a,{variant:"h5",className:t.title},a),r.a.createElement(L.a,{className:t.subtitle,variant:"subtitle1"},o))}function Ct(e){var t=Ot(),a=e.img,n=e.children;return r.a.createElement("div",{className:t.stepsComponent},n,r.a.createElement("img",{className:t.stepsImage,src:a,alt:"",srcSet:""}))}var kt=a(98),St=a.n(kt),It=a(99),At=a.n(It),Pt=a(100),Tt=a.n(Pt),Ft=a(101),Dt=a.n(Ft),Bt=a(102),Rt=a.n(Bt),Wt=a(103),Lt=a.n(Wt),Mt=a(104),zt=a.n(Mt),Vt=a(105),Ut=a.n(Vt),_t=a(106),qt=a.n(_t),Ht=a(107),Gt=a.n(Ht),Jt={0:St.a,1:At.a,2:Tt.a},Yt={0:Dt.a,1:Rt.a,2:Lt.a},$t={0:zt.a,1:Ut.a,2:qt.a,3:Gt.a},Kt=["Select the text, you'll see a yellow button, click it to open the sidebar.","The sidebar will open on the right, you can now edit the text if you'd like, select a category and save the text annotation.","It's done! Now you can make another annotation or check all annotation on the EthicsNet website."].map(function(e,t){return r.a.createElement(Ct,{key:t,img:Jt[t]},r.a.createElement("span",null,t+1," - "),e)}),Qt=["Open the page you want to annotate an image from and right click it, it will open a menu.","Click on the select area button, it will open a new window, so you can select the area you want to annotate. Select the area and then hit 'save image'.","Finally, you can review the\n  selected area, add a title, description and category. When everything is\n  ready to go, hit save and that's it! You just annotated an image!"].map(function(e,t){return r.a.createElement(Ct,{key:t,img:Yt[t]},r.a.createElement("span",null,t+1," - "),e)}),Xt=["Open the youtube video you want to annotate.","Click the EthicsNet extension button on the top right of chrome, then click on the 'Annotate video' button.","he input will already be with the current video url, change it if you need it, then click on 'save'. It will open a new window.","Now you just need to add when the action happens, when it ends, a title, description and category, click on 'save video' and there you go! You have just annotated a video action with the EthicsNet extension."].map(function(e,t){return r.a.createElement(Ct,{key:t,img:$t[t]},r.a.createElement("span",null,t+1," - "),e)});var Zt=function(e){var t=Ot();return r.a.createElement(n.Fragment,null,r.a.createElement(L.a,{variant:"h4",className:t.title},"EthicsNet extension"),r.a.createElement(L.a,{className:t.subtitle,variant:"subtitle1"},"Welcome to the EthicsNet extension - here there are a few tips on how to use the extension to annotate text, images and videos from the web!"),r.a.createElement(L.a,{variant:"h5",className:t.title},"First steps"),r.a.createElement(L.a,{className:t.steps,variant:"body1"},r.a.createElement("span",{className:t.numbers},"1 - "),"Download the chome extension from the"," ",r.a.createElement(jt.a,{href:"https://chrome.google.com/webstore/detail/djamiamgnjcpjhkknjddilkaibbhmhgc/",target:"_blank",rel:"noreferrer",className:t.link},"chrome web store"),"."),r.a.createElement(L.a,{className:t.steps,variant:"body1"},r.a.createElement("span",{className:t.numbers},"2 - "),"Create an account on"," ",r.a.createElement(jt.a,{href:"http://extension.lupuselit.me/#/register",target:"_blank",rel:"noreferrer",className:t.link},"the EthicsNet website.")),r.a.createElement(Nt,{title:"Annotating text",subtitle:"While you are browsing the web, once you have the EthicsNet extension installed you can annotate text from any website."}),Kt,r.a.createElement(Nt,{title:"Annotating images",subtitle:"Image annotations work a little bit differently from text annotation, it first takes a screenshot of the current webpage you want to annotate, then you will see a screen to crop the image and add more details. Follow these steps:"}),Qt,r.a.createElement(Nt,{title:"Annotating videos",subtitle:"Currently we only support annotating videos from youtube. It works like this:"}),Xt,r.a.createElement(Nt,{title:"Next steps",subtitle:"Now you know how to use the EthicsNet extension"}),r.a.createElement(E.a,{variant:"outlined",color:"primary",onClick:function(){e.history.push("/")}},"Home"))},ea=Object(F.a)(function(e){return{img:{},title:{textAlign:"center",marginBottom:30},textField:{width:"100%"},hr:{backgroundColor:"#ddd"},typography:{textAlign:"center"},submit:{marginTop:20},imgWrapper:{display:"flex",justifyContent:"center",alginItems:"center"}}});var ta=function(e){var t=ea(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useContext)(P),m=Object(i.a)(s,1)[0],u=Object(n.useState)(""),p=Object(i.a)(u,2),d=p[0],g=p[1];if(Object(n.useEffect)(function(){l(!1),console.log("videoinfo -> ",m),console.log(m.start),console.log(m.start[0]),console.log(m.start[1]),console.log(m.start[2]),console.log(m.start[3]),console.log(m.start[4]);var e=m.end,t=m.start,a=m.videoUrl,n=10*t[0]+1*t[1],r=10*t[3]+1*t[4]+60*n,o=10*e[0]+1*e[1],c=10*e[3]+1*e[4]+60*o;g("".concat(a,"?start=").concat(r,"&end=").concat(c,"&autoplay=1")),console.log("===================================="),console.log(r,c,a+"?start=".concat(r,"&end=").concat(c,"&autoplay=1")),console.log("====================================")},[m]),c)return r.a.createElement(Y,null);if(m.videoUrl){var h=m.videoUrl;return r.a.createElement("div",{className:t.root},r.a.createElement(L.a,{variant:"h4",className:t.title},"Save video"),r.a.createElement("iframe",{title:h,src:d,frameBorder:"0",width:"100%",height:"500px",allowFullScreen:!0}),r.a.createElement("hr",{className:t.hr}),r.a.createElement("div",null,r.a.createElement(L.a,{variant:"body1",gutterBottom:!0},"Play the video then pause when you want to save the person who's doing the action"),r.a.createElement(L.a,{variant:"body1",gutterBottom:!0},"When you see the person clearly, hit the 'Select person' button.")),r.a.createElement(E.a,{onClick:function(){l(!0),setTimeout(function(){console.log("===================================="),console.log("handle person click!"),console.log("===================================="),e.history.push("/select-person-action")},3e3)},"data-extension-person":!0,color:"primary",variant:"outlined"},"Select person"))}return r.a.createElement("div",null,r.a.createElement("p",null,"ops... there was an error processing your request"))},aa=function(e){function t(){var e,a;Object(Je.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object($e.a)(this,(e=Object(Ke.a)(t)).call.apply(e,[this].concat(o)))).state={showBtn:"none",loading:!0,src:"",croppedImageUrl:"",imageFont:"",crop:{unit:"%",width:30}},a.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){return a.setState({src:t.result})}),t.readAsDataURL(e.target.files[0])}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){a.makeClientCrop(e)},a.onCropChange=function(e,t){a.setState({crop:e})},a.updateVideoPerson=Object(h.a)(g.a.mark(function e(){var t,n,r,o,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage,n=t.token,r=t.selectVideoId,e.next=3,fetch("".concat(z,"/api2/video/update/").concat(r),{method:"PUT",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify({selectedPerson:a.state.croppedImageUrl})});case 3:return o=e.sent,e.next=6,o.json();case 6:c=e.sent,console.log(c.video.selectedPerson),setTimeout(function(){a.props.history.push("/user/videos")},1e3);case 9:case"end":return e.stop()}},e)})),a.saveCroppedScreenshot=function(){console.log("===================================="),console.log("save select person!"),console.log(a.state.croppedImageUrl),console.log("===================================="),a.updateVideoPerson()},a.renderSelectionAddon=function(){return r.a.createElement(E.a,{color:"primary",type:"button",variant:"contained",style:{position:"absolute",bottom:-45,right:0},onClick:a.saveCroppedScreenshot},"Save Person")},a}return Object(Qe.a)(t,e),Object(Ye.a)(t,[{key:"componentDidMount",value:function(){this.setState({src:localStorage.selectPersonImage,loading:!1})}},{key:"makeClientCrop",value:function(){var e=Object(h.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=5;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:a=e.sent,this.setState({croppedImageUrl:a,showBtn:"block"});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var n=document.createElement("canvas"),r=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*r,t.y*o,t.width*r,t.height*o,0,0,t.width,t.height),n.toDataURL("image/jpeg")}},{key:"render",value:function(){var e=this.state,t=e.crop,a=e.croppedImageUrl,n=e.src;return this.state.loading?r.a.createElement(Y,null):r.a.createElement("div",{style:{position:"absolute",width:"100%",left:"0",top:"82px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"Select the person who's doing the action you want to annotate"),n&&r.a.createElement(Ze.a,{src:n,crop:t,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,renderSelectionAddon:this.renderSelectionAddon}),a&&r.a.createElement("img",{alt:"Crop",style:{width:"auto"},src:a}))}}]),t}(n.PureComponent);function na(e){return r.a.createElement("div",{style:{height:"100vh",paddingBottom:50}},r.a.createElement("iframe",{width:"100%",height:"100%",title:"privacy",src:"https://www.termsfeed.com/eula/b6470a865ca4a16b4025b524c8a13cc9",frameborder:"0"}),r.a.createElement(E.a,{style:{marginTop:15},type:"button",color:"primary",variant:"outlined",onClick:function(){return e.history.push("/")}},"Accept"))}var ra=Object(F.a)(function(e){return{about:{},p:{}}});var oa=function(){var e=ra();return r.a.createElement("div",{className:e.about},r.a.createElement("div",null,r.a.createElement("p",null,"EthicsNet Annotation Extension \u2013 Chrome Version "),r.a.createElement("p",null,"Alpha Version 0.0.32 (Release 42)"),r.a.createElement("p",null,"Copyright \xa9 2019, EthicsNet Inc, (11412076), All rights reserved.")),r.a.createElement("p",{className:e.p},"Developed by"," ",r.a.createElement("a",{href:"http://lupuselit.me",target:"_blank",rel:"noopener noreferrer"},"Emerson Lopes")))},ca=a(69),la=function(e){var t=e.title,a=e.component,n=e.restricted,o=Object(ca.a)(e,["title","component","restricted"]);return console.log("**********"),console.log(t),console.log(document.title),console.log("**********"),t&&(document.title=t),r.a.createElement(s.b,Object.assign({},o,{render:function(e){return"true"===localStorage.isLogged&&n?r.a.createElement(s.a,{to:"/"}):r.a.createElement(a,e)}}))},ia=function(e){var t=e.title,a=e.component,n=e.restricted,o=Object(ca.a)(e,["title","component","restricted"]);return console.log("**********"),console.log(t),console.log(document.title),console.log("**********"),t&&(document.title=t),r.a.createElement(s.b,Object.assign({},o,{render:function(e){return"true"===localStorage.isLogged&&n?r.a.createElement(s.a,{to:"/how-to-use"}):r.a.createElement(a,e)}}))},sa=function(e){var t=e.title,a=e.component,n=Object(ca.a)(e,["title","component"]);return console.log("**********"),console.log(t),console.log(document.title),console.log("**********"),t&&(document.title=t),r.a.createElement(s.b,Object.assign({},n,{render:function(e){return"true"===localStorage.getItem("isLogged")?r.a.createElement(a,Object.assign({title:t},e)):r.a.createElement(s.a,{to:"/login"})}}))},ma=Object(F.a)(function(e){return{root:{minHeight:"calc(100vh - 128px)"},paper:{padding:e.spacing(3,2),margin:"20px auto"},loaderWrapper:{height:"calc(100vh - 98px)",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var ua=Object(s.g)(function(e){var t=ma(),a=Object(n.useContext)(S),o=Object(i.a)(a,1)[0];return Object(n.useEffect)(function(){console.log("\n\n****************"),console.log("ALPHA: 0.0.32"),console.log("****************\n\n\n");var t=localStorage.getItem("lastclear"),a=(new Date).getTime();localStorage.isLogged&&t&&a-t>2592e6&&(localStorage.clear(),localStorage.setItem("lastclear",a),e.history.push("/logged-out"))},[]),o?r.a.createElement(n.Fragment,null,r.a.createElement(B,null),r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(u.a,null)),r.a.createElement(W,null)):r.a.createElement(n.Fragment,null,r.a.createElement(B,null),r.a.createElement(p.a,{className:t.root,maxWidth:"md"},r.a.createElement(m.a,{className:t.paper,elevation:2},r.a.createElement(s.d,null,r.a.createElement(sa,{exact:!0,path:"/",component:Me}),r.a.createElement(ia,{exact:!0,path:"/register",restricted:!0,component:Q}),r.a.createElement(la,{title:"EthicsNet - Login",exact:!0,path:"/login",restricted:!0,component:ee}),r.a.createElement(la,{title:"EthicsNet - About",exact:!0,path:"/about",component:oa}),r.a.createElement(sa,{exact:!0,path:"/profile",component:re}),r.a.createElement(s.b,{exact:!0,path:"/landing",component:V}),r.a.createElement(la,{title:"EthicsNet - How to use",exact:!0,path:"/how-to-use",component:Zt}),r.a.createElement(la,{title:"EthicsNet - How to use",exact:!0,path:"/privacy-policy",component:H}),r.a.createElement(la,{title:"EthicsNet - How to use",exact:!0,path:"/terms-and-conditions",component:q}),r.a.createElement(la,{title:"EthicsNet - How to use",exact:!0,path:"/eula",component:na}),r.a.createElement(s.b,{exact:!0,path:"/logged-out",component:Ve}),r.a.createElement(sa,{title:"EthicsNet - Annotations",exact:!0,path:"/profile/annotations",component:Ae}),r.a.createElement(sa,{title:"EthicsNet - New Annotation",exact:!0,path:"/profile/anotations",component:Ae}),r.a.createElement(sa,{title:"EthicsNet - New Annotation",exact:!0,path:"/annotations/new",component:Ge}),r.a.createElement(sa,{title:"EthicsNet - Save Video Action",exact:!0,path:"/save-video-action",component:ta}),r.a.createElement(sa,{title:"EthicsNet - Screenshot",exact:!0,path:"/profile/anotations/screenshots",component:tt}),r.a.createElement(sa,{title:"EthicsNet - Select person",exact:!0,path:"/select-person-action",component:aa}),r.a.createElement(sa,{title:"EthicsNet - New Image",exact:!0,path:"/image/new",component:et}),r.a.createElement(sa,{title:"EthicsNet - Save Image",exact:!0,path:"/image/save",component:rt}),r.a.createElement(sa,{title:"EthicsNet - Save Video",exact:!0,path:"/video/save",component:wt}),r.a.createElement(sa,{title:"EthicsNet - Images",exact:!0,path:"/user/images",component:pt}),r.a.createElement(sa,{title:"EthicsNet - Videos",exact:!0,path:"/user/videos",component:Et}),r.a.createElement(sa,{title:"EthicsNet - All Images",exact:!0,path:"/user/images/all",component:gt}),r.a.createElement(sa,{title:"EthicsNet - Edit Annotation",exact:!0,path:"/profile/annotations/edit/:id",component:We}),r.a.createElement(s.b,{component:Pe})))),r.a.createElement(W,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));setTimeout(function(){c.a.render(r.a.createElement(l.a,null,r.a.createElement(T,null,r.a.createElement(ua,null))),document.getElementById("root"))},500),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){},98:function(e,t,a){e.exports=a.p+"static/media/text1.4f322a6e.png"},99:function(e,t,a){e.exports=a.p+"static/media/text2.95d80ca6.png"}},[[118,1,2]]]);
//# sourceMappingURL=main.4d84e309.chunk.js.map