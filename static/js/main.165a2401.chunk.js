(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{105:function(e,t,a){e.exports=a(123)},110:function(e,t,a){},123:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(11),c=a.n(o),l=a(16),i=(a(110),a(7)),s=a(36),m=a(101),u=a(168),d=a(178),p=a(6),g=a.n(p),h=a(9),f=a(164),b=a(165),v=a(167),E=a(166),y=a(80),x=a.n(y),w=a(97),j=a(161),N=a(79),O=a.n(N),k=(a(114),Object(w.a)({palette:{primary:{main:"rgb(49, 54, 57)"},secondary:{main:"#11cb5f"}}})),C=Object(n.createContext)(localStorage.isLogged),S=Object(n.createContext)(!0),F=Object(n.createContext)("bla"),I=Object(n.createContext)("");var A=function(e){var t=e.children,a=Object(n.useState)(localStorage.isLogged),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(""),g=Object(i.a)(p,2),h=g[0],f=g[1],b=r.a.createRef();return r.a.createElement(S.Provider,{value:[u,d]},r.a.createElement(C.Provider,{value:[c,l]},r.a.createElement(O.a,{ref:b}),r.a.createElement(F.Provider,{value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"success";b.current.addNotification({title:t,message:e,type:a,insert:"top",container:"top-right",animationIn:["animated","fadeIn"],animationOut:["animated","fadeOut"],dismiss:{duration:3e3},dismissable:{click:!0}})}},r.a.createElement(I.Provider,{value:[h,f]},r.a.createElement(j.a,{theme:k},t)))))},T=a(162),B=Object(T.a)(function(e){return{root:{flexGrow:1,marginBottom:"10px"},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,color:"#fff",textDecoration:"none"},link:{color:"#fff",textDecoration:"none"}}});var R=Object(s.g)(function(e){var t=B(),a=Object(n.useContext)(S),o=Object(i.a)(a,2),c=o[0],s=o[1];return Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}(),s(!1)},[c,s]),r.a.createElement("div",{className:t.root},r.a.createElement(f.a,{position:"static"},r.a.createElement(b.a,null,r.a.createElement(E.a,{edge:"start",className:t.menuButton,color:"inherit","aria-label":"menu"},r.a.createElement(x.a,null)),r.a.createElement(l.b,{color:"inherit",className:t.title,to:"/"},"Home"),"true"===localStorage.isLogged?r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/profile"},"Profile")),r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/profile/annotations"},"Annotations")),r.a.createElement(v.a,{color:"inherit",onClick:function(){e.history.push("/logged-out")}},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/login"},"Log in")),r.a.createElement(v.a,{color:"inherit"},r.a.createElement(l.b,{className:t.link,to:"/register"},"Register"))))))}),L=Object(T.a)(function(e){return{footer:{border:"1px solid #000",textAlign:"center",width:"100%",bottom:"1px",color:"#fff",background:e.palette.primary.main},p:{margin:"2px"}}});var D=function(){var e=L();return r.a.createElement("div",{className:e.footer},r.a.createElement("p",{className:e.p},"Ethics Net - 2019"))},P=a(68),z=Object(T.a)(function(e){return{root:{}}});var W=function(e){var t=z(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1];return Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:console.log(l);case 1:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[c]),r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{variant:"h4",gutterBottom:!0},"About Us"),r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"EthicsNet is building a community, one with the purpose of experimenting with different potential techniques to create datasets \u2013 examples of nice behaviours (such as social norms), to help socialise A.I."),r.a.createElement("br",null),r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Machine intelligences will simply amplify and return whatever data we give them. Our goal is to advance the field of machine ethics, by seeding technology that makes it easy to teach machines about ones individual and cultural behavioral preferences."),r.a.createElement("br",null),r.a.createElement(P.a,{variant:"subtitle1",gutterBottom:!0},"Download the extension from the Chrome Web Store and start annotation text from the web right now!"),r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://chrome.google.com/webstore/detail/ethics-net/djamiamgnjcpjhkknjddilkaibbhmhgc"},"Ehtics Net extension"))},_=a(24),U=a(28),M=a(181),q=(a(78),"http://localhost"),G=Object(T.a)(function(e){return{link:{color:"inherit",textDecoration:"none"},button:{marginRight:"10px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});function V(e){var t=G();return r.a.createElement(v.a,{className:t.button,variant:e.variant,color:e.color},r.a.createElement(l.b,{className:t.link,to:e.to},e.name))}function J(e){var t=G();return r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(u.a,null))}var H=Object(T.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"}}});var Y=function(){var e=H(),t=Object(n.useContext)(F),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],s=r.a.useState({firstName:"",lastName:"",email:"",password:"",age:""}),m=Object(i.a)(s,2),u=m[0],d=m[1],p=function(e){return function(t){d(Object(U.a)({},u,Object(_.a)({},e,t.target.value)))}},f=function(){var e=Object(h.a)(g.a.mark(function e(a){var n,r,o,c,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),n=u,a.preventDefault(),console.log("".concat(q,"/auth/register")),e.prev=4,e.next=7,fetch("".concat(q,"/auth/register"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(n)});case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,console.log(o),400===r.status?t(o.error,"registration failed","danger"):200===r.status?(t("welcome to ethics net!"),c=o.token,i=o.user,localStorage.setItem("userId",i._id),localStorage.setItem("userName",i.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("token",c),window.location.reload()):t("there was an error","we could not register you","danger"),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),console.log(e.t0);case 18:case"end":return e.stop()}},e,null,[[4,15]])}));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement(J,null):r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"EthicsNet - Sign up")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:f},r.a.createElement("div",null,r.a.createElement(M.a,{required:!0,className:e.textField,id:"first-name",label:"First Name",value:u.firstName,onChange:p("firstName"),margin:"normal"}),r.a.createElement(M.a,{required:!0,className:e.textField,id:"last-name",label:"Last Name",value:u.lastName,onChange:p("lastName"),margin:"normal"})),r.a.createElement("div",null,r.a.createElement(M.a,{required:!0,className:e.textField,id:"email",type:"email",label:"Email",value:u.email,onChange:p("email"),margin:"normal"}),r.a.createElement(M.a,{required:!0,className:e.textField,id:"password",type:"password",label:"Password",value:u.password,onChange:p("password"),margin:"normal"})),r.a.createElement(v.a,{className:e.submit,type:"submit",variant:"contained",color:"primary"},"Sign up")))},$=Object(T.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var K=function(){var e=$(),t=Object(n.useContext)(F),a=Object(n.useState)(!1),o=Object(i.a)(a,2),c=o[0],l=o[1],s=r.a.useState({email:"",password:""}),m=Object(i.a)(s,2),u=m[0],d=m[1],p=function(e){return function(t){d(Object(U.a)({},u,Object(_.a)({},e,t.target.value)))}},f=function(){var e=Object(h.a)(g.a.mark(function e(a){var n,r,o,c,i;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),n=u,a.preventDefault(),e.prev=3,e.next=6,fetch("".concat(q,"/auth/authenticate"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json"},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(n)});case 6:return r=e.sent,e.next=9,r.json();case 9:o=e.sent,400===r.status?(t(o.error,"login failed","danger"),console.log("status -> ",r.status,o)):200===r.status?(t("welcome back!"),c=o.token,i=o.user,localStorage.setItem("userId",i._id),localStorage.setItem("userName",i.firstName),localStorage.setItem("isLogged","true"),localStorage.setItem("token",c),window.location.reload()):t("there was an error","we could not log you in","danger"),l(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(3),console.log(e.t0),l(!1);case 18:case"end":return e.stop()}},e,null,[[3,14]])}));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement(J,null):r.a.createElement("div",{className:e.container},r.a.createElement("header",{className:"App-header"},r.a.createElement("p",null,"EthicsNet - Login")),r.a.createElement("hr",null),r.a.createElement("form",{onSubmit:f},r.a.createElement("div",null,r.a.createElement(M.a,{required:!0,className:e.textField,id:"email",label:"Email",type:"email",value:u.email,onChange:p("email"),margin:"normal"}),r.a.createElement(M.a,{required:!0,className:e.textField,type:"password",id:"password",label:"Password",value:u.password,onChange:p("password"),margin:"normal"})),r.a.createElement(v.a,{className:e.submit,type:"submit",variant:"contained",color:"primary"},"login")))},Q=Object(T.a)(function(e){return{loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},header:{textAlign:"center"},textField:{width:"410px",marginLeft:e.spacing(1),marginRight:e.spacing(1)},info:{marginTop:"20px"},buttonsWrapper:{marginTop:"20px"}}});var X=function(e){var t=Q(),a=e.values,n=e.handleChange;return r.a.createElement("div",{className:t.info},r.a.createElement("hr",null),r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"This information below is optional, however it would help us to better assure minimal bias to the dataset, and to create a map of different people's impressions of behavioural norms across a diverse range, to facilitate teaching cultural competence to AI."),r.a.createElement(M.a,{id:"country",label:"Country",className:t.textField,value:a.country,onChange:n("country"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"state",label:"State/Province",className:t.textField,value:a.state,onChange:n("state"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"political",label:"Political view",className:t.textField,value:a.political,onChange:n("political"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"religious",label:"Religious view",className:t.textField,value:a.religious,onChange:n("religious"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"earnings",label:"Montly earnings",className:t.textField,value:a.earnings,onChange:n("earnings"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"ethnicity",label:"Ethnicity",className:t.textField,value:a.ethnicity,onChange:n("ethnicity"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"sexualOrientation",label:"Sexual orientation",className:t.textField,value:a.sexualOrientation,onChange:n("sexualOrientation"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"language",label:"Native language",className:t.textField,value:a.language,onChange:n("language"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"education",label:"Education level",className:t.textField,value:a.education,onChange:n("education"),margin:"normal",type:"text"}),r.a.createElement(M.a,{id:"social",label:"Social class",className:t.textField,value:a.social,onChange:n("social"),margin:"normal",type:"text"}))};var Z=function(e){var t=Q(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)({})[1],m=Object(n.useState)({name:"",last:"",email:"",country:"",earnings:"",ethnicity:"",state:"",age:"",political:"",religious:"",sexualOrientation:"",language:"",education:"",social:""}),d=Object(i.a)(m,2),p=d[0],f=d[1],b=function(e){return function(t){f(Object(U.a)({},p,Object(_.a)({},e,t.target.value)))}};Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o,c,i,m,u,d,h,b,v,E,y,x,w,j;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(q,"/api/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log("USER -> ",n,a.status),200===a.status?(s(n.user),r=n.user,o=r.firstName,c=r.lastName,i=r.email,m=r.country,u=r.state,d=r.age,h=r.political,b=r.religious,v=r.sexualOrientation,E=r.language,y=r.education,x=r.social,w=r.earnings,j=r.ethnicity,f(Object(U.a)({},p,{name:o,last:c,email:i,country:m,state:u,age:d,political:h,religious:b,sexualOrientation:v,language:E,education:y,social:x,earnings:w,ethnicity:j}))):404===a.status&&(localStorage.isLogged=null,window.location.reload()),l(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var E=function(){var e=Object(h.a)(g.a.mark(function e(t){var a,n,r,o,c,i,s,m,u,d,h,f,b,v,E,y,x,w,j,N;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a=p.name,n=p.last,r=p.email,o=p.country,c=p.state,i=p.age,s=p.political,m=p.religious,u=p.sexualOrientation,d=p.language,h=p.education,f=p.social,b=p.earnings,v=p.ethnicity,E={firstName:a,lastName:n,email:r,country:o,state:c,age:i,political:s,religious:m,sexualOrientation:u,language:d,education:h,social:f,earnings:b,ethnicity:v},console.log("VALUES -> ",p),y=localStorage,x=y.token,w=y.userId,e.next=7,fetch("".concat(q,"/api/user/").concat(w),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(x)},body:JSON.stringify(E)});case 7:return j=e.sent,e.next=10,j.json();case 10:N=e.sent,console.log(N),l(!0);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();return c?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(u.a,null)):r.a.createElement("div",{className:t.container},r.a.createElement("header",{className:t.header},"ETHICS ETH - MY PROFILE"),r.a.createElement("main",null,r.a.createElement("form",{onSubmit:E},r.a.createElement("div",null,r.a.createElement(M.a,{id:"standard-name",label:"First name",className:t.textField,value:p.name,onChange:b("name"),margin:"normal",required:!0}),r.a.createElement(M.a,{id:"standard-name",label:"Last name",className:t.textField,value:p.last,onChange:b("last"),margin:"normal",required:!0})),r.a.createElement("div",null,r.a.createElement(M.a,{style:{marginBottom:"20px"},id:"standard-name",label:"Email",className:t.textField,value:p.email,onChange:b("email"),margin:"normal",type:"email",required:!0}),r.a.createElement(M.a,{id:"age",label:"Age",type:"number",className:t.textField,value:p.age,onChange:b("age"),margin:"normal",required:!0})),r.a.createElement(X,{values:p,handleChange:b}),r.a.createElement("div",{className:t.buttonsWrapper},r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},type:"submit"},"Save"),r.a.createElement(v.a,{color:"secondary",type:"button",variant:"outlined"},"Delete account")))))},ee=a(176),te=a(182),ae=a(175),ne=a(173),re=a(174),oe=a(172),ce=a(171),le=r.a.forwardRef(function(e,t){return r.a.createElement(ce.a,Object.assign({direction:"up",ref:t},e))});function ie(e){var t=e.open,a=e.handleClose,o=e.content,c=e.id,l=e.filterAnotations,i=e.elId;Object(n.useEffect)(function(){console.log("dialog opened...",e.open),console.log("hello"),console.log("id -> ",c)},[c,e.open]);var s=function(){var e=Object(h.a)(g.a.mark(function e(){var t,n,r,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage,n=t.token,e.next=4,fetch("".concat(q,"/api/user/anotations/").concat(c),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=e.sent,e.next=7,r.json();case 7:o=e.sent,console.log(o),l(c),a(),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}},e,null,[[0,13]])}));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",null,r.a.createElement(te.a,{open:t&&i===c,TransitionComponent:le,keepMounted:!0,onClose:a,"aria-labelledby":"alert-dialog-slide-title","aria-describedby":"alert-dialog-slide-description"},r.a.createElement(oe.a,{id:"alert-dialog-slide-title"},"Are you sure you want to detele this anotation?"),r.a.createElement(ne.a,null,r.a.createElement(re.a,{id:"alert-dialog-slide-description"},'"',o,'"')),r.a.createElement(ae.a,null,r.a.createElement(v.a,{onClick:a,color:"secondary"},"Cancel"),r.a.createElement(v.a,{onClick:s,color:"primary"},"Delete"))))}var se=Object(T.a)(function(e){return{paper:{padding:e.spacing(3,2),margin:"20px 20px","&:hover":{boxShadow:"0px 0px 5px 2px rgba(0,0,0,0.4)",cursor:"pointer"}},title:{textAlign:"center"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},category:{background:"#282828",color:"#fff",padding:"4px",borderRadius:"5px",fontSize:"13px"},date:{fontSize:"12px"},font:{fontSize:"11px"}}});var me=function(e){var t=se(),a=Object(n.useState)([]),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(!0),m=Object(i.a)(s,2),d=m[0],p=m[1],f=Object(n.useState)(!1),b=Object(i.a)(f,2),E=b[0],y=b[1],x=Object(n.useState)(""),w=Object(i.a)(x,2),j=w[0],N=w[1];function O(e){console.log("id to remove-> ",e),l(c.filter(function(t){return t._id!==e}))}function k(){y(!1)}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(q,"/api/user/anotations"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log(n),l(n.anotations),p(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[d]);var C=function(t,a){"edit"===a?e.history.push("/profile/annotations/edit/".concat(t)):"delete"===a&&(console.log("delete id ->",t),N(t),y(!0))},S=c.map(function(e){return r.a.createElement(ee.a,{className:t.paper,key:e._id},r.a.createElement(ie,{content:e.content,open:E,handleClose:k,id:j,elId:e._id,filterAnotations:O}),r.a.createElement("span",{className:t.category},e.category),r.a.createElement("p",null," ",e.content," "),"none"===e.font||""===e.font?null:r.a.createElement("small",{className:t.font},"Annotated from: ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.font},e.font)),r.a.createElement("p",{className:t.date},e.createdAt.substring(0,10)," "),r.a.createElement("div",null,r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},onClick:function(){return C(e._id,"edit")}},"Edit"),r.a.createElement(v.a,{color:"secondary",variant:"outlined",onClick:function(){return C(e._id,"delete")}},"Delete")))});return d?r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(u.a,null)):r.a.createElement("div",null,r.a.createElement("h3",{className:t.title},"Annotations"),r.a.createElement("div",null,S))};var ue=function(){return r.a.createElement("div",{style:{height:"80vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center",fontSize:"30px",textAlign:"center"}},"404 ",r.a.createElement("br",null)," not found")},de=a(170),pe=a(183),ge=a(179),he=a(184),fe=Object(T.a)(function(e){return{paper:{background:"red","@media (min-width:600px)":{}},textField:{width:"100%"},link:{color:"inherit",textDecoration:"none"},button:{marginRight:"10px"},formControl:{width:"100%",marginBottom:"20px"}}});var be=function(e){var t=fe(),a=Object(n.useState)({}),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)(0),f=Object(i.a)(p,2),b=f[0],E=f[1],y=Object(n.useState)(!0),x=Object(i.a)(y,2),w=x[0],j=x[1],N=Object(n.useContext)(F);Object(n.useEffect)(function(){function t(){return(t=Object(h.a)(g.a.mark(function t(){var a,n,r,o,c;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.match.params.id,n=localStorage,r=n.token,t.next=4,fetch("".concat(q,"/api/user/anotations/").concat(a),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)}});case 4:return o=t.sent,t.next=7,o.json();case 7:c=t.sent,l(c.anotation),d(c.anotation.content),E({"morally preferable":0,"morally unpreferable":1,"aesthetically preferable":2,"aesthetically unpreferable":3}[c.anotation.category]),j(!1);case 13:case"end":return t.stop()}},t)}))).apply(this,arguments)}!function(){t.apply(this,arguments)}()},[w]);var O=function(){var t=Object(h.a)(g.a.mark(function t(){var a,n,r,o,c,l;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return j(!0),a=e.match.params.id,n=localStorage,r=n.token,o={0:"morally preferable",1:"morally unpreferable",2:"aesthetically preferable",3:"aesthetically unpreferable"},t.next=6,fetch("".concat(q,"/api/user/anotations/").concat(a),{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},body:JSON.stringify({content:u,category:o[b]})});case 6:return c=t.sent,t.next=9,c.json();case 9:l=t.sent,200===c.status?N("annotation saved!"):N(l.error,"there was an error","danger");case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}();return w?r.a.createElement(J,null):r.a.createElement("div",null,r.a.createElement("p",null,c.createdAt.substring(0,10)),r.a.createElement(M.a,{id:"standard-multiline-flexible",label:"edit anotation",multiline:!0,rowsMax:"30",value:u,onChange:function(e){d(e.target.value)},className:t.textField,margin:"normal"}),r.a.createElement(de.a,{className:t.formControl},r.a.createElement(pe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(ge.a,{value:b,onChange:function(e){return E(e.target.value)},inputProps:{name:"category",id:"category-simple"}},r.a.createElement(he.a,{selected:!0,value:0},"Morally preferable"),r.a.createElement(he.a,{value:1},"Morally unpreferable"),r.a.createElement(he.a,{value:2},"Aesthetically preferable"),r.a.createElement(he.a,{value:3},"Aesthetically unpreferable"))),r.a.createElement(v.a,{onClick:O,variant:"outlined",color:"primary",className:t.button},"Save"),r.a.createElement(V,{variant:"outlined",color:"secondary",to:"/profile/annotations",name:"cancel"}))},ve=Object(T.a)(function(){return{root:{color:"rgb(50, 50, 50)"},title:{color:"rgba(196, 196, 196)"},link:{color:"inherit",textDecoration:"none"}}});var Ee=function(){var e=ve();return r.a.createElement("div",{className:e.root},r.a.createElement(P.a,{className:e.title,variant:"h5",gutterBottom:!0},"EthicsNet"),r.a.createElement(P.a,{variant:"body1",gutterBottom:!0},"Welcome to EthicsNet, now you can start to anotate things on the web."),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/profile/annotations"},"Annotations")),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/user/images"},"Images")),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/user/videos"},"Videos")),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/annotations/new"},"Insert new annotation")),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"}},r.a.createElement(l.b,{className:e.link,to:"/profile"},"Profile")))},ye=Object(T.a)(function(e){return{textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"47%"},submit:{marginTop:"20px"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},loggedOut:{padding:"20px"},title:{textAlign:"center"}}});var xe=function(e){var t=ye(),a=Object(n.useContext)(C)[1];return"true"===localStorage.isLogged?r.a.createElement("div",null,r.a.createElement("h1",null,"are you sure you want to log out?"),r.a.createElement(v.a,{style:{marginRight:"10px"},color:"primary",variant:"outlined",onClick:function(){localStorage.isLogged=null,a(!1),window.location.reload()}},"Yes, log out"),r.a.createElement(v.a,{color:"secondary",variant:"outlined",onClick:function(){e.history.push("/")}},"No, keep logged in")):r.a.createElement("div",{className:t.loggedOut},r.a.createElement("h2",{className:t.title},"EthicsNet"))},we=Object(T.a)(function(e){return{paper:{background:"red"},textField:{width:"100%"},link:{color:"inherit",textDecoration:"none"},loaderWrapper:{height:"50vh",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"},formControl:{width:"100%",marginBottom:"20px"}}});var je=function(e){var t=we(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],s=o[1],m=Object(n.useState)(""),u=Object(i.a)(m,2),d=u[0],p=u[1],f=Object(n.useState)(0),b=Object(i.a)(f,2),E=b[0],y=b[1],x=Object(n.useContext)(F);Object(n.useEffect)(function(){s(!1)},[]);var w=function(){var t=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,l,i;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a.preventDefault(),s(!0),n=localStorage,r=n.token,o=n.userId,c={category:{0:"morally preferable",1:"morally unpreferable",2:"aesthetically preferable",3:"aesthetically unpreferable"}[E],content:d,authorId:o},t.prev=5,t.next=8,fetch("".concat(q,"/api/post-text"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(r)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(c)});case 8:if(l=t.sent,console.log(l.status),200!==l.status){t.next=19;break}return t.next=13,l.json();case 13:i=t.sent,console.log(i),x("annotation created!"),e.history.push("/profile/annotations"),t.next=20;break;case 19:console.log("error while fetching data!");case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(5),console.log("there was an error ->",t.t0);case 25:console.log("submiting!");case 26:case"end":return t.stop()}},t,null,[[5,22]])}));return function(e){return t.apply(this,arguments)}}();return c?r.a.createElement(J,null):r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{variant:"h6",gutterBottom:!0},"Create a new annotation"),r.a.createElement("form",{onSubmit:w},r.a.createElement(M.a,{id:"standard-name",label:"Anotation",className:t.textField,value:d,onChange:function(e){p(e.target.value)},margin:"normal",required:!0,multiline:!0,rows:"5"}),r.a.createElement(de.a,{className:t.formControl},r.a.createElement(pe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(ge.a,{value:E,onChange:function(e){return y(e.target.value)},inputProps:{name:"category",id:"category-simple"}},r.a.createElement(he.a,{selected:!0,value:0},"Morally preferable"),r.a.createElement(he.a,{value:1},"Morally unpreferable"),r.a.createElement(he.a,{value:2},"Aesthetically preferable"),r.a.createElement(he.a,{value:3},"Aesthetically unpreferable"))),r.a.createElement(v.a,{color:"primary",variant:"outlined",style:{marginRight:"10px"},type:"submit"},"Save"),r.a.createElement(v.a,{color:"secondary",type:"button",variant:"outlined"},r.a.createElement(l.b,{className:t.link,to:"/"},"Cancel"))))},Ne=a(82),Oe=a(83),ke=a(98),Ce=a(84),Se=a(99),Fe=a(85),Ie=a.n(Fe),Ae=(a(121),function(e){function t(){var e,a;Object(Ne.a)(this,t);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(a=Object(ke.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(o)))).state={showBtn:"none",loading:!0,src:"",croppedImageUrl:"",imageFont:"",crop:{unit:"%",width:30}},a.onSelectFile=function(e){if(e.target.files&&e.target.files.length>0){var t=new FileReader;t.addEventListener("load",function(){return a.setState({src:t.result})}),t.readAsDataURL(e.target.files[0])}},a.onImageLoaded=function(e){a.imageRef=e},a.onCropComplete=function(e){a.makeClientCrop(e)},a.onCropChange=function(e,t){a.setState({crop:e})},a.saveCroppedScreenshot=function(){console.log("\n\n\nshould save cropped screenshot"),console.log(a.state.croppedImageUrl),localStorage.img=a.state.croppedImageUrl,localStorage.imageFont=a.state.imageFont,a.props.history.push("./save")},a.renderSelectionAddon=function(){return r.a.createElement(v.a,{color:"primary",type:"button",variant:"contained",style:{position:"absolute",bottom:-45,right:0},onClick:a.saveCroppedScreenshot},"Save Image")},a}return Object(Se.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){var e=this;console.log("component did mount!"),function(){var t=Object(h.a)(g.a.mark(function t(){var a,n,r,o;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=localStorage,n=a.token,t.next=4,fetch("".concat(q,"/api/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 4:return r=t.sent,t.next=7,r.json();case 7:o=t.sent,200===r.status&&(console.log(o),e.setState({src:o.user.cachedImg,imageFont:o.user.imageFont,loading:!1})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.log("there was an error -> ",t.t0);case 14:case"end":return t.stop()}},t,null,[[0,11]])}));return function(){return t.apply(this,arguments)}}()()}},{key:"makeClientCrop",value:function(){var e=Object(h.a)(g.a.mark(function e(t){var a;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.imageRef&&t.width&&t.height)){e.next=7;break}return e.next=3,this.getCroppedImg(this.imageRef,t,"newFile.jpeg");case 3:a=e.sent,this.setState({croppedImageUrl:a,showBtn:"block"}),console.log("crop is done!"),console.log(this.state.showBtn);case 7:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"getCroppedImg",value:function(e,t,a){var n=document.createElement("canvas"),r=e.naturalWidth/e.width,o=e.naturalHeight/e.height;return n.width=t.width,n.height=t.height,n.getContext("2d").drawImage(e,t.x*r,t.y*o,t.width*r,t.height*o,0,0,t.width,t.height),n.toDataURL("image/jpeg")}},{key:"render",value:function(){var e=this.state,t=e.crop,a=e.croppedImageUrl,n=e.src;return this.state.loading?r.a.createElement(J,null):r.a.createElement("div",{style:{position:"absolute",width:"100%",left:"0",top:"82px"}},r.a.createElement("h4",{style:{textAlign:"center"}},"If the image hasn't loaded or if it's an old image, plese reload the page in a few seconds"),n&&r.a.createElement(Ie.a,{src:n,crop:t,onImageLoaded:this.onImageLoaded,onComplete:this.onCropComplete,onChange:this.onCropChange,renderSelectionAddon:this.renderSelectionAddon}),a&&r.a.createElement("img",{alt:"Crop",style:{width:"auto"},src:a}))}}]),t}(n.PureComponent)),Te=a(86),Be=a.n(Te),Re=Object(T.a)(function(e){return{img:{width:"100%"},textField:{width:"100%"},typography:{textAlign:"center"},submit:{marginTop:20}}});var Le=function(e){var t=Re(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=Object(n.useState)({title:"",description:"",category:""}),f=Object(i.a)(p,2),b=f[0],E=f[1],y=function(e){return function(t){E(Object(U.a)({},b,Object(_.a)({},e,t.target.value)))}};function x(){return(x=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,i,s,m,d,p,h;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),a.preventDefault(),console.log("submit!!!"),n=b.title,r=b.description,o=b.category,c=localStorage,i=c.token,s=c.userId,m=c.imageFont,d={title:n,description:r,category:o,image:u,imageFont:m,authorId:s},t.prev=6,t.next=9,fetch("".concat(q,"/api/image"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(i)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(d)});case 9:return p=t.sent,t.next=12,p.json();case 12:h=t.sent,console.log(h),e.history.push("/user/images"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),console.log(t.t0);case 20:case"end":return t.stop()}},t,null,[[6,17]])}))).apply(this,arguments)}return Object(n.useEffect)(function(){d(localStorage.img),l(!1)},[]),c?r.a.createElement(J,null):r.a.createElement("div",{className:t.root},r.a.createElement(P.a,{className:t.typography,variant:"h5",gutterBottom:!0},"Save Image"),r.a.createElement("img",{className:t.img,src:u,alt:""}),r.a.createElement("form",{onSubmit:function(e){return x.apply(this,arguments)},className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(M.a,{id:"title",label:"Title",className:t.textField,value:b.title,onChange:y("title"),margin:"normal"}),r.a.createElement(M.a,{id:"description",label:"Description",multiline:!0,rows:"4",className:t.textField,value:b.description,onChange:y("description"),margin:"normal"}),r.a.createElement(de.a,{className:t.textField},r.a.createElement(pe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(ge.a,{value:b.category,onChange:y("category"),inputProps:{name:"category",id:"category-simple"}},r.a.createElement(he.a,{selected:!0,value:"morally preferable"},"Morally preferable"),r.a.createElement(he.a,{value:"morally unpreferable"},"Morally unpreferable"),r.a.createElement(he.a,{value:"aesthetically preferable"},"Aesthetically preferable"),r.a.createElement(he.a,{value:"aesthetically unpreferable"},"Aesthetically unpreferable"))),r.a.createElement(v.a,{className:t.submit,type:"submit",variant:"outlined"},"Save")))},De=Object(T.a)(function(){return{image:{marginBottom:"30px",border:"1px solid #ddd",padding:"10px",borderRadius:"5px"},title:{textAlign:"center"},description:{},font:{fontSize:"10px"},img:{width:"100%"},hr:{backgroundColor:"#ddd"},category:{backgroundColor:"#000",color:"#fff",padding:3,borderRadius:4}}});var Pe=function(){var e=De(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),m=s[0],u=s[1];function d(){return(d=Object(h.a)(g.a.mark(function e(t){var a,n,r,o;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c(!0),console.log(t),!window.confirm("are you sure you want to delete this image?")){e.next=19;break}return e.prev=3,a=localStorage,n=a.token,e.next=7,fetch("".concat(q,"/api/user/images/").concat(t),{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});case 7:return r=e.sent,e.next=10,r.json();case 10:o=e.sent,console.log(o),u(m.filter(function(e){return e._id!==t})),c(!1),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(3),console.log(e.t0);case 19:case"end":return e.stop()}},e,null,[[3,16]])}))).apply(this,arguments)}Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(q,"/api/user/images"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log("Images fetched -> ",n.images),u(n.images),c(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var p=m.map(function(t){return r.a.createElement("div",{key:t._id,className:e.image},r.a.createElement("p",{className:e.title},t.title),r.a.createElement("hr",{className:e.hr}),r.a.createElement("img",{className:e.img,src:t.image,alt:""}),r.a.createElement("hr",{className:e.hr}),r.a.createElement("p",{className:e.font},"Font: ",r.a.createElement("a",{href:t.imageFont},t.imageFont)),r.a.createElement("p",null,r.a.createElement("span",{className:e.category},t.category)),r.a.createElement("p",{className:e.description},t.description),r.a.createElement(v.a,{color:"secondary",variant:"outlined",onClick:function(){return function(e){return d.apply(this,arguments)}(t._id)}},"Delete"))});return o?r.a.createElement(J,null):r.a.createElement("div",null,r.a.createElement("h3",{className:e.title},"All images"),p)},ze=Object(T.a)(function(){return{image:{marginBottom:"30px",border:"1px solid #ddd",padding:"10px",borderRadius:"5px"},title:{textAlign:"center"},description:{},font:{fontSize:"10px"},img:{width:"100%"},hr:{backgroundColor:"#ddd"}}});var We=function(){var e=ze(),t=Object(n.useState)(!0),a=Object(i.a)(t,2),o=a[0],c=a[1],l=Object(n.useState)([]),s=Object(i.a)(l,2),m=s[0],u=s[1];Object(n.useEffect)(function(){function e(){return(e=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(q,"/api/user/images/all"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log("Images fetched -> ",n.images),u(n.images),c(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}!function(){e.apply(this,arguments)}()},[]);var d=m.map(function(t){return r.a.createElement("div",{key:t._id,className:e.image},r.a.createElement("p",{className:e.title},t.title),r.a.createElement("hr",{className:e.hr}),r.a.createElement("img",{className:e.img,src:t.image,alt:""}),r.a.createElement("hr",{className:e.hr}),r.a.createElement("p",{className:e.font},"Font: ",r.a.createElement("a",{href:t.imageFont},t.imageFont)),r.a.createElement("p",{className:e.description},t.description))});return o?r.a.createElement(J,null):r.a.createElement("div",null,r.a.createElement("h3",{className:e.title},"All images"),d)},_e=Object(T.a)(function(e){return{paper:{background:"red"},title:{textAlign:"center"},hr:{backgroundColor:"#ddd",margin:"50px 0"},category:{backgroundColor:"#000",color:"#fff",padding:3,borderRadius:4}}});var Ue=function(e){var t=_e(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)([]),m=Object(i.a)(s,2),u=m[0],d=m[1];function p(){return(p=Object(h.a)(g.a.mark(function e(){var t,a,n;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("token"),e.next=3,fetch("".concat(q,"/api/user/videos"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}});case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,console.log("videos fetched -> ",n.videos),d(n.videos),l(!1);case 10:case"end":return e.stop()}},e)}))).apply(this,arguments)}if(Object(n.useEffect)(function(){!function(){p.apply(this,arguments)}()},[]),c)return r.a.createElement(J,null);function f(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]}var b=u.map(function(e){return r.a.createElement("div",{key:e._id},r.a.createElement("iframe",{title:e._id,src:"https://www.youtube.com/embed/"+f(e.videoUrl),width:"100%",height:"500px",frameBorder:"0",allowFullScreen:!0}),r.a.createElement("h3",null,e.title),r.a.createElement("p",null,r.a.createElement("span",{className:t.category},e.category)),r.a.createElement("p",null,"Url: ",r.a.createElement("a",{href:e.videoUrl,target:"_blank",rel:"noopener noreferrer"},e.videoUrl)),r.a.createElement("p",null,"Start: ",e.videoStart," "),r.a.createElement("p",null,"End: ",e.videoEnd),r.a.createElement("p",null,"Description: ",e.description?e.description:"no description provided"),r.a.createElement("hr",{className:t.hr}))});return r.a.createElement("div",{className:t.root},r.a.createElement("h3",{className:t.title},"All videos"),b)},Me=a(66),qe=a.n(Me),Ge=Object(T.a)(function(e){return{paper:{background:"red"},title:{textAlign:"center"},hr:{backgroundColor:"#ddd",margin:"50px 0"},textField:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"100%"},time:{marginLeft:e.spacing(1),marginRight:e.spacing(1),width:"48%"},button:{marginTop:25}}});var Ve=function(e){var t=Ge(),a=Object(n.useState)(!0),o=Object(i.a)(a,2),c=o[0],l=o[1],s=Object(n.useState)(""),m=Object(i.a)(s,2),u=m[0],d=m[1],p=r.a.useState({title:"",description:"",start:"",end:"",category:""}),f=Object(i.a)(p,2),b=f[0],E=f[1],y=function(e){return function(t){E(Object(U.a)({},b,Object(_.a)({},e,t.target.value)))}},x=function(){var e=Object(h.a)(g.a.mark(function e(){var t,a,n,r,o,c;return g.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=localStorage,a=t.token,e.next=4,fetch("".concat(q,"/api/user"),{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(a)}});case 4:return n=e.sent,e.next=7,n.json();case 7:r=e.sent,200===n.status&&(o=function(e){var t=e.match(/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#&?]*).*/);return!(!t||11!==t[7].length)&&t[7]},c="https://www.youtube.com/embed/"+o(r.user.cachedVideo),d(c)),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log("there was an error -> ",e.t0);case 14:case"end":return e.stop()}},e,null,[[0,11]])}));return function(){return e.apply(this,arguments)}}();if(Object(n.useEffect)(function(){x(),l(!1)},[]),c)return r.a.createElement(J,null);function w(){return(w=Object(h.a)(g.a.mark(function t(a){var n,r,o,c,i,s,m,d,p,h,f;return g.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),a.preventDefault(),console.log("submit video form!"),n=b.title,r=b.description,o=b.category,c=b.start,i=b.end,s=localStorage,m=s.token,d=s.userId,p={category:o,title:n,description:r,videoUrl:u,videoStart:c,videoEnd:i,authorId:d},t.prev=6,t.next=9,fetch("".concat(q,"/api/video"),{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m)},redirect:"follow",referrer:"no-referrer",body:JSON.stringify(p)});case 9:return h=t.sent,t.next=12,h.json();case 12:f=t.sent,console.log(f),e.history.push("/user/videos"),t.next=20;break;case 17:t.prev=17,t.t0=t.catch(6),console.log(t.t0);case 20:case"end":return t.stop()}},t,null,[[6,17]])}))).apply(this,arguments)}return r.a.createElement("div",{className:t.root},r.a.createElement("h3",{className:t.title},"Save video"),r.a.createElement("iframe",{title:u,src:u,frameBorder:"0",width:"100%",height:"500px",allowFullScreen:!0}),r.a.createElement("form",{className:t.container,noValidate:!0,autoComplete:"off"},r.a.createElement(M.a,{id:"standard-name",label:"Video title",className:t.textField,value:b.title,onChange:y("title"),margin:"normal"}),r.a.createElement(qe.a,{mask:"99:99",value:b.start,onChange:y("start"),className:t.time},function(){return r.a.createElement(M.a,{label:"Video start",className:t.time,margin:"normal",type:"text"})}),r.a.createElement(qe.a,{mask:"99:99",value:b.end,onChange:y("end"),className:t.time},function(){return r.a.createElement(M.a,{label:"Video end",className:t.time,margin:"normal",type:"text"})}),r.a.createElement(M.a,{id:"standard-multiline-static",label:"Video description",multiline:!0,rows:"4",value:b.description,className:t.textField,onChange:y("description"),margin:"normal"}),r.a.createElement(de.a,{className:t.textField},r.a.createElement(pe.a,{htmlFor:"category-simple"},"Category"),r.a.createElement(ge.a,{required:!0,value:b.category,onChange:y("category"),inputProps:{name:"category",id:"category-simple"}},r.a.createElement(he.a,{selected:!0,value:"morally preferable"},"Morally preferable"),r.a.createElement(he.a,{value:"morally unpreferable"},"Morally unpreferable"),r.a.createElement(he.a,{value:"aesthetically preferable"},"Aesthetically preferable"),r.a.createElement(he.a,{value:"aesthetically unpreferable"},"Aesthetically unpreferable"))),r.a.createElement(v.a,{onClick:function(e){return w.apply(this,arguments)},color:"primary",variant:"outlined",className:t.button},"Save Video")))},Je=a(177),He=Object(T.a)(function(e){return{title:{textAlign:"center",marginTop:10},subtitle:{marginTop:20,color:"#999"},steps:{marginTop:20,color:e.palette.primary.dark},numbers:{fontSize:16,color:e.palette.primary.dark},link:{color:"#1a0dab"},stepsImage:{width:"100%",marginTop:10,marginBottom:50},stepsComponent:{marginTop:20},hr:{backgroundColor:"#ddd",margin:"30px 0px"}}});function Ye(e){var t=He(),a=e.img,n=e.children;return r.a.createElement("div",{className:t.stepsComponent},n,r.a.createElement("img",{className:t.stepsImage,src:a,alt:"",srcSet:""}))}var $e=a(87),Ke=a.n($e),Qe=a(88),Xe=a.n(Qe),Ze=a(89),et=a.n(Ze),tt=a(90),at=a.n(tt),nt=a(91),rt=a.n(nt),ot=a(92),ct=a.n(ot),lt=a(93),it=a.n(lt),st=a(94),mt=a.n(st),ut=a(95),dt=a.n(ut),pt=a(96),gt=a.n(pt);var ht=function(e){var t=He();return r.a.createElement(n.Fragment,null,r.a.createElement(P.a,{variant:"h4",className:t.title},"EthicsNet extension"),r.a.createElement(P.a,{className:t.subtitle,variant:"subtitle1"},"Welcome to the EthicsNet extension - here there are a few tips on how to use the extension to annotate text, images and videos from the web!"),r.a.createElement(P.a,{variant:"h5",className:t.title},"First steps"),r.a.createElement(P.a,{className:t.steps,variant:"body1"},r.a.createElement("span",{className:t.numbers},"1 - "),"Download the chome extension from the"," ",r.a.createElement(Je.a,{href:"https://chrome.google.com/webstore/detail/djamiamgnjcpjhkknjddilkaibbhmhgc/",target:"_blank",rel:"noreferrer",className:t.link},"chrome web store"),"."),r.a.createElement(P.a,{className:t.steps,variant:"body1"},r.a.createElement("span",{className:t.numbers},"2 - "),"Create an account on"," ",r.a.createElement(Je.a,{href:"http://extension.lupuselit.me/#/register",target:"_blank",rel:"noreferrer",className:t.link},"the EthicsNet website.")),r.a.createElement("hr",{className:t.hr}),r.a.createElement(P.a,{variant:"h5",className:t.title},"Annotating text"),r.a.createElement(P.a,{className:t.subtitle,variant:"subtitle1"},"While you are browsing the web, once you have the EthicsNet extension installed you can annotate text from any website."),r.a.createElement(Ye,{img:Ke.a},r.a.createElement("span",{className:t.numbers},"1 - "),"Select the text, you'll see a yellow button, click it to open the sidebar."),r.a.createElement(Ye,{img:Xe.a},r.a.createElement("span",{className:t.numbers},"2 - "),"The sidebar will open on the right, you can now edit the text if you'd like, select a category and save the text annotation."),r.a.createElement(Ye,{img:et.a},r.a.createElement("span",{className:t.numbers},"2 - "),"It's done! Now you can make another annotation or check all annotation on the EthicsNet website."),r.a.createElement("hr",{className:t.hr}),r.a.createElement(P.a,{variant:"h5",className:t.title},"Annotating images"),r.a.createElement(P.a,{className:t.subtitle,variant:"subtitle1"},"Image annotations work a little bit differently from text annotation, it first takes a screenshot of the current webpage you want to annotate, then you'll see a screen to crop the image and add more details. Follow these steps:"),r.a.createElement(Ye,{img:at.a},r.a.createElement("span",{className:t.numbers},"1 - "),"Open the page you want to annotate an image from and right click it, it will open a menu."),r.a.createElement(Ye,{img:rt.a},r.a.createElement("span",{className:t.numbers},"2 - "),"Click on the select area button, it will open a new window, so you can select the area you want to annotate. Select the area and then hit 'save image'."),r.a.createElement(Ye,{img:ct.a},r.a.createElement("span",{className:t.numbers},"3 - "),"Finally, you can review the selected area, add a title, description and category. When everything is ready to go, hit save and that's it! You just annotated an image!"),r.a.createElement("hr",{className:t.hr}),r.a.createElement(P.a,{variant:"h5",className:t.title},"Annotating videos"),r.a.createElement(P.a,{className:t.subtitle,variant:"subtitle1"},"Currently we only support annotating videos from youtube. It works like this:"),r.a.createElement(Ye,{img:it.a},r.a.createElement("span",{className:t.numbers},"1 - "),"Open the youtube video you want to annotate."),r.a.createElement(Ye,{img:mt.a},r.a.createElement("span",{className:t.numbers},"2 - "),"Click the EthicsNet extension button on the top right of chrome, then click on the 'Annotate video' button."),r.a.createElement(Ye,{img:dt.a},r.a.createElement("span",{className:t.numbers},"3 - "),"The input will already be with the current video url, change it if you need it, then click on 'save'. It will open a new window."),r.a.createElement(Ye,{img:gt.a},r.a.createElement("span",{className:t.numbers},"4 - "),"Now you just need to add when the action happens, when it ends, a title, description and category, click on 'save video' and there you go! You have just annotated a video action with the EthicsNet extension."),r.a.createElement("hr",{className:t.hr}),r.a.createElement(P.a,{variant:"h5",className:t.title},"Next steps"),r.a.createElement(P.a,{className:t.subtitle,variant:"subtitle1"},"Now you know to use the EthicsNet extension"))},ft=a(67),bt=function(e){var t=e.component,a=e.restricted,n=Object(ft.a)(e,["component","restricted"]);return r.a.createElement(s.b,Object.assign({},n,{render:function(e){return"true"===localStorage.isLogged&&a?r.a.createElement(s.a,{to:"/"}):r.a.createElement(t,e)}}))},vt=function(e){var t=e.component,a=Object(ft.a)(e,["component"]);return r.a.createElement(s.b,Object.assign({},a,{render:function(e){return"true"===localStorage.getItem("isLogged")?r.a.createElement(t,e):r.a.createElement(s.a,{to:"/login"})}}))},Et=Object(T.a)(function(e){return{root:{minHeight:"calc(100vh - 128px)"},paper:{padding:e.spacing(3,2),margin:"20px auto"},loaderWrapper:{height:"calc(100vh - 98px)",width:"100%",display:"flex",justifyContent:"center",alignItems:"center"}}});var yt=Object(s.g)(function(e){var t=Et(),a=Object(n.useContext)(S),o=Object(i.a)(a,1)[0];return Object(n.useEffect)(function(){var t=localStorage.getItem("lastclear"),a=(new Date).getTime();console.log("time now -> ",a),a-t>2592e6&&(localStorage.clear(),localStorage.setItem("lastclear",a),e.history.push("/logged-out"),console.log("logging out!"))},[]),o?r.a.createElement(n.Fragment,null,r.a.createElement(R,null),r.a.createElement("div",{className:t.loaderWrapper},r.a.createElement(u.a,null)),r.a.createElement(D,null)):r.a.createElement(n.Fragment,null,r.a.createElement(R,null),r.a.createElement(d.a,{className:t.root,maxWidth:"md"},r.a.createElement(m.a,{className:t.paper,elevation:2},r.a.createElement(s.d,null,r.a.createElement(vt,{exact:!0,path:"/",component:Ee}),r.a.createElement(bt,{exact:!0,path:"/register",restricted:!0,component:Y}),r.a.createElement(bt,{exact:!0,path:"/login",restricted:!0,component:K}),r.a.createElement(vt,{exact:!0,path:"/profile",component:Z}),r.a.createElement(s.b,{exact:!0,path:"/landing",component:W}),r.a.createElement(bt,{exact:!0,path:"/how-to-use",component:ht}),r.a.createElement(s.b,{exact:!0,path:"/logged-out",component:xe}),r.a.createElement(vt,{exact:!0,path:"/profile/annotations",component:me}),r.a.createElement(vt,{exact:!0,path:"/profile/anotations",component:me}),r.a.createElement(vt,{exact:!0,path:"/annotations/new",component:je}),r.a.createElement(vt,{exact:!0,path:"/profile/anotations",component:Be.a}),r.a.createElement(vt,{exact:!0,path:"/image/new",component:Ae}),r.a.createElement(vt,{exact:!0,path:"/image/save",component:Le}),r.a.createElement(vt,{exact:!0,path:"/video/save",component:Ve}),r.a.createElement(vt,{exact:!0,path:"/user/images",component:Pe}),r.a.createElement(vt,{exact:!0,path:"/user/videos",component:Ue}),r.a.createElement(vt,{exact:!0,path:"/user/images/all",component:We}),r.a.createElement(vt,{exact:!0,path:"/profile/annotations/edit/:id",component:be}),r.a.createElement(s.b,{component:ue})))),r.a.createElement(D,null))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));setTimeout(function(){c.a.render(r.a.createElement(l.a,null,r.a.createElement(A,null,r.a.createElement(yt,null))),document.getElementById("root"))},20),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},78:function(e,t,a){},86:function(e,t){},87:function(e,t,a){e.exports=a.p+"static/media/text1.4f322a6e.png"},88:function(e,t,a){e.exports=a.p+"static/media/text2.95d80ca6.png"},89:function(e,t,a){e.exports=a.p+"static/media/text3.6ff28d94.png"},90:function(e,t,a){e.exports=a.p+"static/media/image1.789090fc.png"},91:function(e,t,a){e.exports=a.p+"static/media/image2.47a2da96.png"},92:function(e,t,a){e.exports=a.p+"static/media/image3.40b62698.png"},93:function(e,t,a){e.exports=a.p+"static/media/video1.a78939ee.png"},94:function(e,t,a){e.exports=a.p+"static/media/video2.9cd0df78.png"},95:function(e,t,a){e.exports=a.p+"static/media/video3.e531ec32.png"},96:function(e,t,a){e.exports=a.p+"static/media/video4.707da6db.png"}},[[105,1,2]]]);
//# sourceMappingURL=main.165a2401.chunk.js.map